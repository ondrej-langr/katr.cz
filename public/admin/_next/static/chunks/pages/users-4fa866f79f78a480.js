(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{1207:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(28449)}])},28449:function(e,n,t){"use strict";t.r(n);var r=t(94776),i=t.n(r),s=t(52322),o=t(98666),u=t(33792),a=t(25865),c=t(57704),l=t(53610),d=t(52170),f=t(41277),m=t(5632),p=t(2784),v=t(52829),h=t(71424),x=t(24917),g=t(11794),w=t(54557);function _(e,n,t,r,i,s,o){try{var u=e[s](o),a=u.value}catch(c){return void t(c)}u.done?n(a):Promise.resolve(a).then(r,i)}function b(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.default=function(){var e=(0,m.useRouter)().push,n=(0,v.$)().t,t=(0,p.useState)(1),r=t[0],j=t[1],y=(0,w.x)(),E=(0,u.S)("users"),N=(0,a.y)("users",{page:r}),O=N.data,k=N.isLoading,P=N.isError,M=N.mutate,S=(0,p.useMemo)((function(){if(!O)return!1;O.data;return b(O,["data"])}),[O]),T=(0,p.useMemo)((function(){return(null===O||void 0===O?void 0:O.data)?O.data.filter((function(e){return e.id!==(null===y||void 0===y?void 0:y.id)})):[]}),[O,y]),C=null===y||void 0===y?void 0:y.can({action:"update",targetModel:"users"}),R=C?function(n){return e("/users/".concat(n))}:void 0,U=C?function(){var e,t=(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(n(d.X3.ON_DELETE_REQUEST_PROMPT))){e.next=4;break}return e.next=3,f.Uq.delete({id:t,model:"users"});case 3:M();case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){_(s,r,i,o,u,"next",e)}function u(e){_(s,r,i,o,u,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}():void 0,X=(0,p.useMemo)((function(){if(E)return(0,h.QK)(E)}),[E]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Xg,{children:[(0,s.jsxs)("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold capitalize",children:n("Users")}),(0,s.jsx)("div",{className:"flex items-center gap-5",children:(0,s.jsxs)(x.z,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:function(){return e("/users/invite")},children:[(0,s.jsx)("span",{className:"hidden md:block",children:n("Add new user")}),(0,s.jsx)(l.R.UserPlus,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),(0,s.jsx)(o.H,{isLoading:k||P,items:T,columns:X||[],metadata:S||void 0,onEditAction:R,onDeleteAction:U,pagination:(0,s.jsx)(g.t,{total:(null===O||void 0===O?void 0:O.last_page)||1,page:r,onChange:j})})]})})}}},function(e){e.O(0,[139,706,305,589,666,774,888,179],(function(){return n=1207,e(e.s=n);var n}));var n=e.O();_N_E=n}]);