(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{84240:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return n(54653)}])},96454:function(e,t,n){"use strict";var r=n(52322),o=n(53610),i=n(6277),a=n(52829);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.Z=function(e){var t=e.className,n=c(e,["className"]),s=(0,a.$)().t;return(0,r.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({className:(0,i.Z)("flex min-h-[300px] flex-col justify-center text-center text-xl font-semibold text-gray-400",t)},n,{children:[(0,r.jsx)(o.R.QuestionMark,{size:40,className:"mx-auto"}),(0,r.jsx)("p",{children:s("No items available...")})]}))}},72860:function(e,t,n){"use strict";n.d(t,{G:function(){return p}});var r=n(52322),o=n(75660),i=n(39097),a=n(5632),l=n(6277),c=n(52829),s=n(53610),u=n(24917),d=[{title:"Profile",url:"/settings/profile",Icon:s.R.UserCircle},{title:"System",url:"/settings",Icon:s.R.Settings},{title:"Authentication",url:"/settings/password",Icon:s.R.Lock}],f=function(){var e=(0,a.useRouter)().pathname,t=(0,c.$)().t;return(0,r.jsx)("div",{className:"h-full px-5 pt-6",children:(0,r.jsx)("nav",{className:"mt-24 flex flex-none gap-3 lg:flex-col",children:d.map((function(n){var o=n.url,a=n.title,c=n.Icon;return(0,r.jsx)(i.default,{href:o,passHref:!0,children:(0,r.jsx)(u.z,{component:"a",size:"lg",variant:"subtle",color:e===o?"green":"blue",className:(0,l.Z)(e===o?"border-green-300 underline":"border-blue-200","border-2"),leftIcon:(0,r.jsx)(c,{className:"mr-auto aspect-square w-6"}),children:t(a)})},o)}))})})},p=function(e){var t=e.children,n=(0,c.$)().t;return(0,r.jsxs)(o.Xg,{withAside:!0,leftAside:(0,r.jsx)(f,{}),children:[(0,r.jsx)(o.Xg.Header,{title:n("Settings")}),(0,r.jsx)(o.Xg.Section,{className:"mt-5 min-h-[500px] justify-evenly lg:flex",children:(0,r.jsx)("div",{className:"w-full",children:t})})]})}},76902:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var r=n(8168),o=n(33965),i=n(85482);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=function(e,t,n){var c=(0,r.bN)().models,s=void 0!==t,u=(0,i.ZP)(s&&c?o.Uq.apiGetUrl(t,e):null,n),d=u.data,f=u.error;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({data:d,isLoading:!f&&!d,itemIsMissing:f,isError:f},l(u,["data","error"]))}},25865:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(11804),o=n(33965),i=n(85482);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.x.get(e,{params:t}).then((function(e){return e.data}))};function s(e,t){var n=(0,i.ZP)([o.Uq.apiGetListUrl(e||""),t],c,{isPaused:function(){return!e}}),r=n.data,s=n.error;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({data:r,isLoading:!s&&!r,isError:s},l(n,["data","error"]))}},54653:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var r=n(52322),o=n(94776),i=n.n(o),a=n(96454),l=n(8168),c=n(25865),s=n(10107),u=n(70790),d=n(59935),f=n(24917),p=n(74559),b=n(40530),m=n(54339),h=n(85409),v=n(11794),x=n(59748),j=n(53610),y=n(33965),g=n(6277),O=n(2784),w=n(52829),S=n(45115),P=n(23384),C=n(58532),N=n(34272),k=n(142),A=n(76902),E=n(63955),I=n(74062),z=n(23191),_=n(89519);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}var X=function(){var e=(0,E.Gc)(),t=e.register,n=e.watch,o=e.setValue,i=U((0,_.U)(""),2),a=i[0],l=i[1],c=n("content.data",[]),s=(0,w.$)().t,u=function(e,t){return function(){var n,r=L(c),i=r.findIndex((function(e){return e.id===t})),a="up"===e?i-1:i+1;n=[r[a],r[i]],r[i]=n[0],r[a]=n[1],o("content.data",r)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(m.X,{shadow:"xs",p:"md",withBorder:!0,children:[(0,r.jsx)(N.o,{value:a,label:s("Add new entry"),placeholder:s("Some text"),icon:(0,r.jsx)(j.R.Plus,{size:20}),onChange:l,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation(),function(){if(a){var e=Date.now().toString(36)+Math.random().toString(36).substring(2);o("content.data[".concat((c||[]).length,"]"),{id:e,value:a}),l("")}}())}}),(0,r.jsx)(I.S,{label:s("Items"),mt:"lg",children:(0,r.jsx)(C.M,{cols:1,children:c&&Array.isArray(c)?c.map((function(e,n){return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"mr-1 flex",children:[(0,r.jsx)(h.A,{disabled:0===n,onClick:u("up",e.id),children:(0,r.jsx)(j.R.ChevronUp,{size:18})}),(0,r.jsx)(h.A,{disabled:(c||[]).length-1===n,onClick:u("down",e.id),children:(0,r.jsx)(j.R.ChevronDown,{size:18})})]}),(0,r.jsx)(N.o,T({className:"w-full"},t("content.data[".concat(n,"].value")))),(0,r.jsx)(h.A,{ml:"md",color:"red",onClick:(i=e.id,function(){o("content.data",c.filter((function(e){return e.id!==i})))}),children:(0,r.jsx)(j.R.Trash,{})})]},e.id);var i})):(0,r.jsx)(z.x,{color:"dimmed",children:s("No items for now")})})})]})})},$=n(46530);function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var V=function(){var e=(0,w.$)().t,t=(0,E.Gc)().register;return(0,r.jsx)(b.g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}({autosize:!0,label:e("Value"),minRows:4},t("content.data")))};function G(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var H=function(e){var t=e.opened,n=e.onClose,o=e.optionToEdit,a=(0,l.bN)().currentUserIsAdmin,c=(0,A.c)("settings",o),s=c.data,u=(c.isLoading,(0,E.cI)({defaultValues:{}})),d=u.register,p=u.watch,b=u.reset,h=u.control,v=u.handleSubmit,x=u.setValue,j=u.formState;(0,O.useEffect)((function(){o?s&&b(s):b({})}),[s,b,o,t]);var g=p("content"),w=function(){var e,t=(e=i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return t.id,r=F(t,["id"]),e.next=5,y.gb.update(o,r);case 5:e.next=9;break;case 7:return e.next=9,y.gb.create(t);case 9:n(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert("An error happened");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){G(i,r,o,a,l,"next",e)}function l(e){G(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,r.jsx)(E.RV,q({},u,{children:(0,r.jsx)(S.d,{opened:t,onClose:n,position:"right",size:700,padding:"xl",className:" overflow-auto",title:(0,r.jsx)(P.D,{order:4,children:o?"Update an option":"Create an option"}),children:(0,r.jsxs)("form",{className:"h-full",onSubmit:v(w),children:[(0,r.jsxs)(C.M,{cols:1,spacing:"md",children:[a&&(0,r.jsxs)(m.X,{withBorder:!0,shadow:"lg",mb:"lg",radius:"md",p:"xs",children:[(0,r.jsx)(N.o,q({label:"Slug"},d("name"))),(0,r.jsx)(E.Qr,{name:"content.type",control:h,render:function(e){var t=e.field,n=t.name,o=t.onChange,i=t.onBlur,a=t.value;return(0,r.jsx)(k.Ph,{placeholder:"Select type",name:n,onChange:function(e){o(e),x("content.data",void 0)},onBlur:i,value:a,label:"Select datatype",pt:"md",data:[{value:"list",label:"List"},{value:"textArea",label:"Long text"}]})}})]}),(0,r.jsx)(N.o,q({label:"Label"},d("label"))),"list"===(null===g||void 0===g?void 0:g.type)&&(0,r.jsx)(X,{}),"textArea"===(null===g||void 0===g?void 0:g.type)&&(0,r.jsx)(V,{})]}),(0,r.jsx)("div",{className:"right-0 mt-8 rounded-lg pb-4",children:(0,r.jsx)(f.z,{className:"mr-auto block",type:"submit",loading:j.isSubmitting,loaderPosition:"right",children:(0,$.t)(o?"Save":"Create")})})]})})}))},Q=n(51337),W=n(40070),K=function(e){var t=e.name,n=(0,W.V)(),o=(0,w.$)().t;return(0,r.jsx)(Q.u,{label:o("Copied!"),gutter:5,placement:"center",position:"bottom",radius:"xl",transition:"slide-down",transitionDuration:150,opened:n.copied,children:(0,r.jsx)(h.A,{color:"blue",onClick:function(){return n.copy(t)},size:20,children:(0,r.jsx)(j.R.Paperclip,{size:20})})})};function J(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}var Y=(0,s.k)((function(e){return{root:{td:{verticalAlign:"baseline"}}}})),ee=function(){var e=Y().classes,t=(0,w.$)().t,n=(0,l.bN)().currentUserIsAdmin,o=(0,O.useState)(1),s=o[0],S=o[1],P=(0,c.y)("settings",{page:s}),C=P.data,N=P.mutate,k=(0,O.useState)(),A=k[0],E=k[1],I=(0,O.useState)(!1),z=I[0],_=I[1],D=(0,x.z)(),R=(0,O.useCallback)((function(e){return function(){E(e)}}),[]),T=(0,O.useCallback)((function(e){return n=i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=D.showNotification({id:"on-delete-option",loading:!0,title:"Deleting",message:t("Deleting selected option, please wait..."),autoClose:!1,disallowClose:!0}),n.prev=1,n.next=4,y.gb.delete(e);case 4:return n.next=6,N();case 6:D.updateNotification(r,{message:t("Option deleted!"),autoClose:2e3}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),D.updateNotification(r,{color:"red",message:t("An error happened"),autoClose:2e3});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){J(i,r,o,a,l,"next",e)}function l(e){J(i,r,o,a,l,"throw",e)}a(void 0)}))};var n}),[t,D,N]),U=n?6:8,L=(0,r.jsx)(u.r.Col,{span:12,children:(0,r.jsx)(d.i,{})});return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(f.z,{color:"green",mt:"lg",onClick:function(){return _(!0)},children:t("Add new")}),(0,r.jsxs)(u.r,{sx:{minWidth:800},className:(0,g.Z)(e.root,"mt-5 min-h-[400px]"),columns:12,children:[n&&(0,r.jsx)(u.r.Col,{span:2,className:"font-semibold uppercase",children:t("Slug")}),(0,r.jsx)(u.r.Col,{span:2,className:"font-semibold uppercase",children:t("Title")}),(0,r.jsx)(u.r.Col,{span:U,className:"font-semibold uppercase",children:t("Value")}),(0,r.jsx)(u.r.Col,{span:2,children:(0,r.jsx)("span",{className:"hidden",children:t("Tools")})}),(0,r.jsx)(u.r.Col,{span:12,children:(0,r.jsx)(d.i,{size:"sm"})}),(null===C||void 0===C?void 0:C.data)?C.data.map((function(e,t){var o,i,a;return(0,r.jsxs)(O.Fragment,{children:[0!==t&&L,n&&(0,r.jsx)(u.r.Col,{span:2,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(K,{name:e.name}),e.name]})}),(0,r.jsx)(u.r.Col,{span:2,children:e.label}),(0,r.jsx)(u.r.Col,{span:U,children:"textArea"===(null===(o=e.content)||void 0===o?void 0:o.type)?(0,r.jsx)(b.g,{autosize:!0,readOnly:!0,value:e.content.data}):"list"===(null===(i=e.content)||void 0===i?void 0:i.type)?(0,r.jsx)(m.X,{sx:function(e){return{borderColor:e.colors.gray[4]}},withBorder:!0,p:"sm",children:(0,r.jsx)("ul",{className:"list-disc pl-5",children:null===(a=e.content)||void 0===a?void 0:a.data.map((function(e){var t=e.id,n=e.value;return(0,r.jsx)("li",{dangerouslySetInnerHTML:{__html:n}},t)}))})}):"none"}),(0,r.jsx)(u.r.Col,{span:2,children:(0,r.jsxs)(p.Z,{className:"ml-auto",position:"right",spacing:"xs",noWrap:!0,children:[(0,r.jsx)(h.A,{onClick:R(e.id),color:"blue",children:(0,r.jsx)(j.R.Edit,{})}),n&&(0,r.jsx)(h.A,{onClick:T(e.id),color:"red",children:(0,r.jsx)(j.R.Trash,{})})]})})]},e.id)})):(0,r.jsx)(u.r.Col,{span:12,children:(0,r.jsx)(a.Z,{})})]}),C&&(0,r.jsx)(p.Z,{position:"center",my:"xl",children:(0,r.jsx)(v.t,{className:"my-auto",page:s,onChange:S,total:C.last_page})}),(0,r.jsx)(H,{opened:z||!!A,optionToEdit:A,onClose:function(){N(),E(void 0),_(!1)}})]})},te=n(72860),ne=function(){return(0,r.jsx)(te.G,{children:(0,r.jsx)(ee,{})})}}},function(e){e.O(0,[955,161,946,142,39,397,84,774,888,179],(function(){return t=84240,e(e.s=t);var t}));var t=e.O();_N_E=t}]);