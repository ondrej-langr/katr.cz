(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{84240:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(69947)}])},72860:function(e,n,t){"use strict";t.d(n,{G:function(){return p}});var r=t(52322),o=t(75660),a=t(39097),i=t(5632),l=t(6277),s=t(52829),c=t(53610),u=t(24917),d=[{title:"Profile",url:"/settings/profile",Icon:c.R.UserCircle},{title:"System",url:"/settings",Icon:c.R.Settings},{title:"Authentication",url:"/settings/password",Icon:c.R.Lock}],f=function(){var e=(0,i.useRouter)().pathname,n=(0,s.$)().t;return(0,r.jsx)("div",{className:"h-full px-5 pt-6",children:(0,r.jsx)("nav",{className:"mt-24 flex flex-none gap-3 lg:flex-col",children:d.map((function(t){var o=t.url,i=t.title,s=t.Icon;return(0,r.jsx)(a.default,{href:o,passHref:!0,children:(0,r.jsx)(u.z,{component:"a",size:"lg",variant:"subtle",color:e===o?"green":"blue",className:(0,l.Z)(e===o?"border-green-300 underline":"border-blue-200","border-2"),leftIcon:(0,r.jsx)(s,{className:"mr-auto aspect-square w-6"}),children:n(i)})},o)}))})})},p=function(e){var n=e.children,t=(0,s.$)().t;return(0,r.jsxs)(o.Xg,{withAside:!0,leftAside:(0,r.jsx)(f,{}),children:[(0,r.jsx)(o.Xg.Header,{title:t("Settings")}),(0,r.jsx)(o.Xg.Section,{className:"mt-5 min-h-[500px] justify-evenly lg:flex",children:(0,r.jsx)("div",{className:"w-full",children:n})})]})}},76902:function(e,n,t){"use strict";t.d(n,{c:function(){return s}});var r=t(8168),o=t(33965),a=t(85482);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=function(e,n,t){var s=(0,r.bN)().models,c=void 0!==n,u=(0,a.ZP)(c&&s?o.Uq.apiGetUrl(n,e):null,t),d=u.data,f=u.error;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({data:d,isLoading:!f&&!d,itemIsMissing:f,isError:f},l(u,["data","error"]))}},25865:function(e,n,t){"use strict";t.d(n,{y:function(){return c}});var r=t(11804),o=t(33965),a=t(85482);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.x.get(e,{params:n}).then((function(e){return e.data}))};function c(e,n){var t=(0,a.ZP)([o.Uq.apiGetListUrl(e||""),n],s,{isPaused:function(){return!e}}),r=t.data,c=t.error;return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){i(e,n,t[n])}))}return e}({data:r,isLoading:!c&&!r,isError:c},l(t,["data","error"]))}},97470:function(e,n,t){"use strict";t.d(n,{$:function(){return c}});var r=t(94776),o=t.n(r),a=t(80298),i=t(59748),l=t(52829);function s(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,o)}var c=function(){var e=(0,i.z)(),n=(0,a.M)(),t=(0,l.$)().t;return function(){var r,a=(r=o().mark((function r(a,i){var l,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=e.showNotification({id:n,loading:!0,title:a.title,message:a.message,autoClose:!1,disallowClose:!0}),r.prev=1,r.next=4,i();case 4:return s=r.sent,e.updateNotification(l,{message:a.successMessage||t("Task completed successfully"),autoClose:4e3}),r.abrupt("return",s);case 9:throw r.prev=9,r.t0=r.catch(1),e.updateNotification(l,{color:"red",message:a.errorMessage?"function"===typeof a.errorMessage?a.errorMessage(r.t0):a.errorMessage:t("An error happened"),autoClose:4e3}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(t,o){var a=r.apply(e,n);function i(e){s(a,t,o,i,l,"next",e)}function l(e){s(a,t,o,i,l,"throw",e)}i(void 0)}))});return function(e,n){return a.apply(this,arguments)}}()}},69947:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ie}});var r=t(52322),o=t(94776),a=t.n(o),i=t(31005),l=t(96454),s=t(8168),c=t(25865),u=t(97470),d=t(10107),f=t(70790),p=t(59935),m=t(24917),h=t(74559),v=t(40530),b=t(54339),g=t(85409),x=t(11794),j=t(53610),y=t(33965),w=t(6277),O=t(2784),C=t(52829),S=t(85393),P=t(23384),N=t(58532),k=t(34272),A=t(142),I=t(76902),E=t(63955),_=t(74062),z=t(23191),M=t(89519);function D(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function R(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){R(e,n,t[n])}))}return e}function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],i=!0,l=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,n)||Z(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,n){if(e){if("string"===typeof e)return D(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?D(e,n):void 0}}var L=function(){var e=(0,E.Gc)(),n=e.register,t=e.watch,o=e.setValue,a=U((0,M.U)(""),2),i=a[0],l=a[1],s=t("content.data",[]),c=(0,C.$)().t,u=function(e,n){return function(){var t,r=$(s),a=r.findIndex((function(e){return e.id===n})),i="up"===e?a-1:a+1;t=[r[i],r[a]],r[a]=t[0],r[i]=t[1],o("content.data",r)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.X,{shadow:"xs",p:"md",withBorder:!0,children:[(0,r.jsx)(k.o,{value:i,label:c("Add new entry"),placeholder:c("Some text"),icon:(0,r.jsx)(j.R.Plus,{size:20}),onChange:l,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation(),function(){if(i){var e=Date.now().toString(36)+Math.random().toString(36).substring(2);o("content.data[".concat((s||[]).length,"]"),{id:e,value:i}),l("")}}())}}),(0,r.jsx)(_.S,{label:c("Items"),mt:"lg",children:(0,r.jsx)(N.M,{cols:1,children:s&&Array.isArray(s)?s.map((function(e,t){return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"mr-1 flex",children:[(0,r.jsx)(g.A,{disabled:0===t,onClick:u("up",e.id),children:(0,r.jsx)(j.R.ChevronUp,{size:18})}),(0,r.jsx)(g.A,{disabled:(s||[]).length-1===t,onClick:u("down",e.id),children:(0,r.jsx)(j.R.ChevronDown,{size:18})})]}),(0,r.jsx)(k.o,T({className:"w-full"},n("content.data[".concat(t,"].value")))),(0,r.jsx)(g.A,{ml:"md",color:"red",onClick:(a=e.id,function(){o("content.data",s.filter((function(e){return e.id!==a})))}),children:(0,r.jsx)(j.R.Trash,{})})]},e.id);var a})):(0,r.jsx)(z.x,{color:"dimmed",children:c("No items for now")})})})]})})};function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var G=function(){var e=(0,C.$)().t,n=(0,E.Gc)().register;return(0,r.jsx)(v.g,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}({autosize:!0,label:e("Value"),minRows:4},n("content.data")))},V=t(7924),B=function(){var e=(0,E.Gc)().control;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(E.Qr,{name:"content.data",control:e,render:function(e){var n=e.field,t=n.onChange,o=n.value;return(0,r.jsx)(V.Z,{label:"Image",onChange:t,selected:o})}})})};function F(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,o)}function q(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){F(a,r,o,i,l,"next",e)}function l(e){F(a,r,o,i,l,"throw",e)}i(void 0)}))}}function H(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){H(e,n,t[n])}))}return e}function W(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var K=function(e){var n=e.opened,t=e.onClose,o=e.optionToEdit,i=(0,s.bN)().currentUserIsAdmin,l=(0,I.c)("settings",o).data,c=(0,C.$)().t,d=(0,u.$)(),f=(0,E.cI)({defaultValues:{}}),p=f.register,h=f.watch,v=f.reset,g=f.control,x=f.handleSubmit,j=f.setValue,w=f.formState;(0,O.useEffect)((function(){o?l&&v(l):v({})}),[l,v,o,n]);var _=h("content"),z=function(){var e=q(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d({title:c(o?"Updating option":"Creating option"),message:c("Please wait..."),successMessage:c(o?"Option successfully updated":"Option has been created")},q(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return n.id,r=W(n,["id"]),e.next=4,y.gb.update(o,r);case 4:e.next=8;break;case 6:return e.next=8,y.gb.create(n);case 8:t();case 9:case"end":return e.stop()}}),e)}))))}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.jsx)(E.RV,Q({},f,{children:(0,r.jsx)(S.d,{opened:n,onClose:t,position:"right",size:700,padding:"xl",className:" overflow-auto",title:(0,r.jsx)(P.D,{order:4,children:o?"Update an option":"Create an option"}),children:(0,r.jsxs)("form",{className:"h-full",onSubmit:x(z),children:[(0,r.jsxs)(N.M,{cols:1,spacing:"md",children:[i&&(0,r.jsxs)(b.X,{withBorder:!0,shadow:"lg",mb:"lg",radius:"md",p:"xs",children:[(0,r.jsx)(k.o,Q({label:"Slug"},p("name"))),(0,r.jsx)(E.Qr,{name:"content.type",control:g,render:function(e){var n=e.field,t=n.name,o=n.onChange,a=n.onBlur,i=n.value;return(0,r.jsx)(A.Ph,{placeholder:"Select type",name:t,onChange:function(e){o(e),j("content.data",void 0)},onBlur:a,value:i,label:"Select datatype",pt:"md",data:[{value:"list",label:"List"},{value:"textArea",label:"Long text"},{value:"image",label:"Image"}]})}})]}),(0,r.jsx)(k.o,Q({label:"Label"},p("label"))),"list"===(null===_||void 0===_?void 0:_.type)&&(0,r.jsx)(L,{}),"textArea"===(null===_||void 0===_?void 0:_.type)&&(0,r.jsx)(G,{}),"image"===(null===_||void 0===_?void 0:_.type)&&(0,r.jsx)(B,{})]}),(0,r.jsx)("div",{className:"right-0 mt-8 rounded-lg pb-4",children:(0,r.jsx)(m.z,{className:"mr-auto block",type:"submit",loading:w.isSubmitting,loaderPosition:"right",children:c(o?"Save":"Create")})})]})})}))},J=t(51337),Y=t(40070),ee=function(e){var n=e.name,t=(0,Y.V)(),o=(0,C.$)().t;return(0,r.jsx)(J.u,{label:o("Copied!"),gutter:5,placement:"center",position:"bottom",radius:"xl",transition:"slide-down",transitionDuration:150,opened:t.copied,children:(0,r.jsx)(g.A,{color:"blue",onClick:function(){return t.copy(n)},size:20,children:(0,r.jsx)(j.R.Paperclip,{size:20})})})};function ne(e,n,t,r,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(r,o)}function te(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function i(e){ne(a,r,o,i,l,"next",e)}function l(e){ne(a,r,o,i,l,"throw",e)}i(void 0)}))}}var re=(0,d.k)((function(e){return{root:{td:{verticalAlign:"baseline"}}}})),oe=function(){var e=re().classes,n=(0,C.$)().t,t=(0,s.bN)().currentUserIsAdmin,o=(0,O.useState)(1),d=o[0],S=o[1],P=(0,c.y)("settings",{page:d}),N=P.data,k=P.mutate,A=(0,O.useState)(),I=A[0],E=A[1],_=(0,O.useState)(!1),z=_[0],M=_[1],D=(0,u.$)(),R=(0,O.useCallback)((function(e){return function(){E(e)}}),[]),T=(0,O.useCallback)((function(e){return te(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{D({title:"Deleting",message:n("Deleting selected option, please wait..."),successMessage:n("Option deleted!")},te(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.gb.delete(e);case 2:return n.next=4,k();case 4:case"end":return n.stop()}}),n)}))))}catch(r){}case 1:case"end":return t.stop()}}),t)})))}),[n,D,k]),U=t?6:8,$=(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(p.i,{})});return(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsx)(m.z,{color:"green",mt:"lg",onClick:function(){return M(!0)},children:n("Add new")}),(0,r.jsxs)(f.r,{sx:{minWidth:800},className:(0,w.Z)(e.root,"mt-5 min-h-[400px]"),columns:12,children:[t&&(0,r.jsx)(f.r.Col,{span:2,className:"font-semibold uppercase",children:n("Slug")}),(0,r.jsx)(f.r.Col,{span:2,className:"font-semibold uppercase",children:n("Title")}),(0,r.jsx)(f.r.Col,{span:U,className:"font-semibold uppercase",children:n("Value")}),(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsx)("span",{className:"hidden",children:n("Tools")})}),(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(p.i,{size:"sm"})}),(null===N||void 0===N?void 0:N.data)?N.data.map((function(e,n){var o,a,l,s,c;return(0,r.jsxs)(O.Fragment,{children:[0!==n&&$,t&&(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsxs)(h.Z,{children:[(0,r.jsx)(ee,{name:e.name}),e.name]})}),(0,r.jsx)(f.r.Col,{span:2,children:e.label}),(0,r.jsx)(f.r.Col,{span:U,children:"textArea"===(null===(o=e.content)||void 0===o?void 0:o.type)?(0,r.jsx)(v.g,{autosize:!0,readOnly:!0,value:e.content.data}):"list"===(null===(a=e.content)||void 0===a?void 0:a.type)?(0,r.jsx)(b.X,{sx:function(e){return{borderColor:e.colors.gray[4]}},withBorder:!0,p:"sm",children:(0,r.jsx)("ul",{className:"list-disc pl-5",children:null===(l=e.content)||void 0===l?void 0:l.data.map((function(e){var n=e.id,t=e.value;return(0,r.jsx)("li",{dangerouslySetInnerHTML:{__html:t}},n)}))})}):"image"===(null===(s=e.content)||void 0===s?void 0:s.type)?(0,r.jsx)(i.Z,{className:"h-20 w-auto",imageId:null===(c=e.content)||void 0===c?void 0:c.data}):"none"}),(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsxs)(h.Z,{className:"ml-auto",position:"right",spacing:"xs",noWrap:!0,children:[(0,r.jsx)(g.A,{onClick:R(e.id),color:"blue",children:(0,r.jsx)(j.R.Edit,{})}),t&&(0,r.jsx)(g.A,{onClick:T(e.id),color:"red",children:(0,r.jsx)(j.R.Trash,{})})]})})]},e.id)})):(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(l.Z,{})})]}),N&&(0,r.jsx)(h.Z,{position:"center",my:"xl",children:(0,r.jsx)(x.t,{className:"my-auto",page:d,onChange:S,total:N.last_page})}),(0,r.jsx)(K,{opened:z||!!I,optionToEdit:I,onClose:function(){k(),E(void 0),M(!1)}})]})},ae=t(72860),ie=function(){return(0,r.jsx)(ae.G,{children:(0,r.jsx)(oe,{})})}}},function(e){e.O(0,[568,95,418,794,685,484,732,924,774,888,179],(function(){return n=84240,e(e.s=n);var n}));var n=e.O();_N_E=n}]);