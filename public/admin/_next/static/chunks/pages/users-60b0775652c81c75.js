(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{1207:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return r(28449)}])},28449:function(n,e,r){"use strict";r.r(e);var t=r(94776),o=r.n(t),i=r(52322),a=r(98666),u=r(33792),c=r(25865),s=r(75660),f=r(18362),l=r(53610),d=r(52170),v=r(33965),p=r(5632),m=r(2784),h=r(52829),w=r(5386),b=r(8168),y=r(24917),x=r(11794);function g(n,e,r,t,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(t,o)}function j(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}e.default=function(){var n=(0,p.useRouter)().push,e=(0,h.$)().t,r=(0,m.useState)(1),t=r[0],k=r[1],A=(0,b.bN)(),_=A.currentUser,E=A.currentUserIsAdmin,O=(0,u.S)("users"),N=(0,c.y)("users",{page:t}),P=N.data,S=N.isLoading,C=N.isError,U=N.mutate,M=(0,m.useMemo)((function(){if(!P)return!1;P.data;return j(P,["data"])}),[P]),T=(0,m.useMemo)((function(){return(null===P||void 0===P?void 0:P.data)?P.data.filter((function(n){return n.id!==(null===_||void 0===_?void 0:_.id)})):[]}),[P,_]),X=E||(null===_||void 0===_?void 0:_.role)===f.vX.Maintainer,I=X?function(e){return n("/users/".concat(e))}:void 0,R=X?function(){var n,r=(n=o().mark((function n(r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!confirm(e(d.X3.ON_DELETE_REQUEST_PROMPT))){n.next=4;break}return n.next=3,v.Uq.delete({id:r,model:"users"});case 3:U();case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(n){g(i,t,o,a,u,"next",n)}function u(n){g(i,t,o,a,u,"throw",n)}a(void 0)}))});return function(n){return r.apply(this,arguments)}}():void 0,L=(0,m.useMemo)((function(){if(O)return(0,w.QK)(O)}),[O]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(s.Xg,{children:[(0,i.jsxs)("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold capitalize",children:e("Users")}),(0,i.jsx)("div",{className:"flex items-center gap-5",children:(0,i.jsxs)(y.z,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:function(){return n("/users/invite")},children:[(0,i.jsx)("span",{className:"hidden md:block",children:e("Add new user")}),(0,i.jsx)(l.R.UserPlus,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),(0,i.jsx)(a.H,{isLoading:S||C,items:T,columns:L||[],metadata:M||void 0,onEditAction:I,onDeleteAction:R,pagination:(0,i.jsx)(x.t,{total:(null===P||void 0===P?void 0:P.last_page)||1,page:t,onChange:k})})]})})}},18362:function(n,e,r){"use strict";r.d(e,{vX:function(){return v},V7:function(){return p},fm:function(){return f},A6:function(){return h}});var t=r(94776),o=r.n(t);function i(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=n[r];return t}function a(n,e,r,t,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(t,o)}function u(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function u(n){a(i,t,o,u,c,"next",n)}function c(n){a(i,t,o,u,c,"throw",n)}u(void 0)}))}}function c(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return i(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){return import("./generator")};(function(){var n=u(o().mark((function n(){var e,r,t,i,a=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=a.length,r=new Array(e),t=0;t<e;t++)r[t]=a[t];return n.next=3,s();case 3:return i=n.sent.formatGeneratorConfig,n.abrupt("return",i.apply(void 0,c(r)));case 5:case"end":return n.stop()}}),n)})))})(),function(){var n=u(o().mark((function n(){var e,r,t,i,a=arguments;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=a.length,r=new Array(e),t=0;t<e;t++)r[t]=a[t];return n.next=3,s();case 3:return i=n.sent.getGeneratorConfig,n.abrupt("return",i.apply(void 0,c(r)));case 5:case"end":return n.stop()}}),n)})))}();function f(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}function l(n,e,r,t,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void r(s)}u.done?e(c):Promise.resolve(c).then(t,o)}function d(n){return function(){var e=this,r=arguments;return new Promise((function(t,o){var i=n.apply(e,r);function a(n){l(i,t,o,a,u,"next",n)}function u(n){l(i,t,o,a,u,"throw",n)}a(void 0)}))}}var v,p,m=function(){var n=d(o().mark((function n(e){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,import("find-config");case 2:return r=n.sent.default,n.abrupt("return",r(".env",{cwd:e})||".env");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),h=(function(){var n=d(o().mark((function n(e){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,import("dotenv");case 2:return r=n.sent.default,n.t0=r,n.next=6,m(e);case 6:n.t1=n.sent,n.t2={path:n.t1},n.t0.config.call(n.t0,n.t2);case 9:case"end":return n.stop()}}),n)})))}(),function(n){var e;switch(n){case"date":e="date";break;case"boolean":e="boolean";break;case"json":case"longText":case"string":case"enum":case"password":case"slug":e="string";break;case"number":e="number"}return e});!function(n){n.Editor="editor",n.Maintainer="maintainer",n.Admin="admin"}(v||(v={})),function(n){n.active="active",n.blocked="blocked",n.invited="invited",n.passwordReset="password-reset"}(p||(p={}))}},function(n){n.O(0,[139,234,613,774,888,179],(function(){return e=1207,n(n.s=e);var e}));var e=n.O();_N_E=e}]);