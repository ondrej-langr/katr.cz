(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[639],{40070:function(e,t,n){"use strict";n.d(t,{V:function(){return o}});var r=n(2784);function o({timeout:e=2e3}={}){const[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null);return{copy:t=>{"clipboard"in navigator?navigator.clipboard.writeText(t).then((()=>{return t=!0,clearTimeout(i),c(setTimeout((()=>a(!1)),e)),void a(t);var t})).catch((e=>n(e))):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{a(!1),n(null),clearTimeout(i)},error:t,copied:o}}},89519:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(2784);function o(e){return t=>{if(t)if("function"===typeof t)e(t);else if("object"===typeof t&&"nativeEvent"in t){const{currentTarget:n}=t;"checkbox"===n.type?e(n.checked):e(n.value)}else e(t);else e(t)}}function a(e){const[t,n]=(0,r.useState)(e);return[t,o(n)]}},22796:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/system",function(){return n(25378)}])},76902:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(8168),o=n(41277),a=n(85482);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=function(e,t,n){var l=(0,r.bN)().models,u=void 0!==t,s=(0,a.ZP)(u&&l?o.Uq.apiGetUrl(t,e):null,n),d=s.data,f=s.error;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({data:d,isLoading:!f&&!d,itemIsMissing:f,isError:f},c(s,["data","error"]))}},25865:function(e,t,n){"use strict";n.d(t,{y:function(){return p}});var r=n(11804),o=n(41277),a=n(85482);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.x.get(e,{params:t}).then((function(e){return e.data}))},f=function(e){var t=e.where,n=l({},u(e,["where"]));return t&&(n.where=Object.entries(t||{}).map((function(e){var t=s(e,2),n=t[0],r=t[1],o=r.manipulator,a=r.value;return"".concat(n,".").concat(o,".").concat(a)})).join(";")),n};function p(e,t,n){var r=(0,a.ZP)([o.Uq.apiGetListUrl(e||""),f(null!==t&&void 0!==t?t:{})],d,l({isPaused:function(){return!e}},n)),i=r.data,c=r.error;return l({data:i,isLoading:!c&&!i,isError:c},u(r,["data","error"]))}},97470:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var r=n(94776),o=n.n(r),a=n(80298),i=n(59748),c=n(52829);function l(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}var u=function(){var e=(0,i.z)(),t=(0,a.M)(),n=(0,c.$)().t;return function(){var r,a=(r=o().mark((function r(a,i){var c,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=e.showNotification({id:t,loading:!0,title:a.title,message:a.message,autoClose:!1,disallowClose:!0}),r.prev=1,r.next=4,i();case 4:return l=r.sent,e.updateNotification(c,{message:a.successMessage||n("Task completed successfully"),autoClose:4e3}),r.abrupt("return",l);case 9:throw r.prev=9,r.t0=r.catch(1),e.updateNotification(c,{color:"red",message:a.errorMessage?"function"===typeof a.errorMessage?a.errorMessage(r.t0):a.errorMessage:n("An error happened"),autoClose:4e3}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){l(a,n,o,i,c,"next",e)}function c(e){l(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return a.apply(this,arguments)}}()}},25378:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(52322),o=n(94776),a=n.n(o),i=n(31005),c=n(96454),l=n(8168),u=n(25865),s=n(97470),d=n(10107),f=n(70790),p=n(59935),m=n(24917),v=n(74559),h=n(40530),b=n(54339),y=n(85409),g=n(11794),j=n(53610),x=n(41277),w=n(6277),O=n(2784),S=n(52829),C=n(85393),P=n(23384),k=n(58532),A=n(34272),N=n(17335),E=n(76902),I=n(63955),T=n(74062),M=n(23191),_=n(89519);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){U(e,t,n[t])}))}return e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}var L=function(){var e=(0,I.Gc)(),t=e.register,n=e.watch,o=e.setValue,a=$((0,_.U)(""),2),i=a[0],c=a[1],l=n("content.data",[]),u=(0,S.$)().t,s=function(e,t){return function(){var n,r=R(l),a=r.findIndex((function(e){return e.id===t})),i="up"===e?a-1:a+1;n=[r[i],r[a]],r[a]=n[0],r[i]=n[1],o("content.data",r)}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(b.X,{shadow:"xs",p:"md",withBorder:!0,children:[(0,r.jsx)(A.o,{value:i,label:u("Add new entry"),placeholder:u("Some text"),icon:(0,r.jsx)(j.R.Plus,{size:20}),onChange:c,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation(),function(){if(i){var e=Date.now().toString(36)+Math.random().toString(36).substring(2);o("content.data[".concat((l||[]).length,"]"),{id:e,value:i}),c("")}}())}}),(0,r.jsx)(T.S,{label:u("Items"),mt:"lg",children:(0,r.jsx)(k.M,{cols:1,children:l&&Array.isArray(l)?l.map((function(e,n){return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"mr-1 flex",children:[(0,r.jsx)(y.A,{disabled:0===n,onClick:s("up",e.id),children:(0,r.jsx)(j.R.ChevronUp,{size:18})}),(0,r.jsx)(y.A,{disabled:(l||[]).length-1===n,onClick:s("down",e.id),children:(0,r.jsx)(j.R.ChevronDown,{size:18})})]}),(0,r.jsx)(A.o,z({className:"w-full"},t("content.data[".concat(n,"].value")))),(0,r.jsx)(y.A,{ml:"md",color:"red",onClick:(a=e.id,function(){o("content.data",l.filter((function(e){return e.id!==a})))}),children:(0,r.jsx)(j.R.Trash,{})})]},e.id);var a})):(0,r.jsx)(M.x,{color:"dimmed",children:u("No items for now")})})})]})})};function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(){var e=(0,S.$)().t,t=(0,I.Gc)().register;return(0,r.jsx)(h.g,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}({autosize:!0,label:e("Value"),minRows:4},t("content.data")))},B=n(64842),X=function(){var e=(0,I.Gc)().control;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(I.Qr,{name:"content.data",control:e,render:function(e){var t=e.field,n=t.onChange,o=t.value;return(0,r.jsx)(B.Z,{label:"Image",onChange:n,selected:o})}})})};function F(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){F(a,r,o,i,c,"next",e)}function c(e){F(a,r,o,i,c,"throw",e)}i(void 0)}))}}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}function H(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var K=function(e){var t=e.opened,n=e.onClose,o=e.optionToEdit,i=(0,l.bN)().currentUserIsAdmin,c=(0,E.c)("settings",o).data,u=(0,S.$)().t,d=(0,s.$)(),f=(0,I.cI)({defaultValues:{}}),p=f.register,v=f.watch,h=f.reset,y=f.control,g=f.handleSubmit,j=f.setValue,w=f.formState;(0,O.useEffect)((function(){o?c&&h(c):h({})}),[c,h,o,t]);var T=v("content"),M=function(){var e=q(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{d({title:u(o?"Updating option":"Creating option"),message:u("Please wait..."),successMessage:u(o?"Option successfully updated":"Option has been created")},q(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return t.id,r=H(t,["id"]),e.next=4,x.gb.update(o,r);case 4:e.next=8;break;case 6:return e.next=8,x.gb.create(t);case 8:n();case 9:case"end":return e.stop()}}),e)}))))}catch(r){}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.jsx)(I.RV,W({},f,{children:(0,r.jsx)(C.d,{opened:t,onClose:n,position:"right",size:700,padding:"xl",className:" overflow-auto",title:(0,r.jsx)(P.D,{order:4,children:o?"Update an option":"Create an option"}),children:(0,r.jsxs)("form",{className:"h-full",onSubmit:g(M),children:[(0,r.jsxs)(k.M,{cols:1,spacing:"md",children:[i&&(0,r.jsxs)(b.X,{withBorder:!0,shadow:"lg",mb:"lg",radius:"md",p:"xs",children:[(0,r.jsx)(A.o,W({label:"Slug"},p("name"))),(0,r.jsx)(I.Qr,{name:"content.type",control:y,render:function(e){var t=e.field,n=t.name,o=t.onChange,a=t.onBlur,i=t.value;return(0,r.jsx)(N.Ph,{placeholder:"Select type",name:n,onChange:function(e){o(e),j("content.data",void 0)},onBlur:a,value:i,label:"Select datatype",pt:"md",data:[{value:"list",label:"List"},{value:"textArea",label:"Long text"},{value:"image",label:"Image"}]})}})]}),(0,r.jsx)(A.o,W({label:"Label"},p("label"))),"list"===(null===T||void 0===T?void 0:T.type)&&(0,r.jsx)(L,{}),"textArea"===(null===T||void 0===T?void 0:T.type)&&(0,r.jsx)(G,{}),"image"===(null===T||void 0===T?void 0:T.type)&&(0,r.jsx)(X,{})]}),(0,r.jsx)("div",{className:"right-0 mt-8 rounded-lg pb-4",children:(0,r.jsx)(m.z,{className:"mr-auto block",type:"submit",loading:w.isSubmitting,loaderPosition:"right",children:u(o?"Save":"Create")})})]})})}))},J=n(51337),Y=n(40070),ee=function(e){var t=e.name,n=(0,Y.V)(),o=(0,S.$)().t;return(0,r.jsx)(J.u,{label:o("Copied!"),gutter:5,placement:"center",position:"bottom",radius:"xl",transition:"slide-down",transitionDuration:150,opened:n.copied,children:(0,r.jsx)(y.A,{color:"blue",onClick:function(){return n.copy(t)},size:20,children:(0,r.jsx)(j.R.Paperclip,{size:20})})})};function te(e,t,n,r,o,a,i){try{var c=e[a](i),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,o)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){te(a,r,o,i,c,"next",e)}function c(e){te(a,r,o,i,c,"throw",e)}i(void 0)}))}}var re=(0,d.k)((function(){return{root:{td:{verticalAlign:"baseline"}}}})),oe=(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(p.i,{})}),ae=function(){var e=re().classes,t=(0,S.$)().t,n=(0,l.bN)().currentUserIsAdmin,o=(0,O.useState)(1),d=o[0],C=o[1],P=(0,u.y)("settings",{page:d}),k=P.data,A=P.mutate,N=(0,O.useState)(),E=N[0],I=N[1],T=(0,O.useState)(!1),M=T[0],_=T[1],D=(0,s.$)(),U=n?6:8,z=(0,O.useCallback)((function(e){return function(){I(e)}}),[]),$=(0,O.useCallback)((function(e){return ne(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{D({title:"Deleting",message:t("Deleting selected option, please wait..."),successMessage:t("Option deleted!")},ne(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.gb.delete(e);case 2:return t.next=4,A();case 4:case"end":return t.stop()}}),t)}))))}catch(r){}case 1:case"end":return n.stop()}}),n)})))}),[t,D,A]);return(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)(m.z,{color:"green",mt:"lg",onClick:function(){return _(!0)},children:t("Add new")}),(0,r.jsxs)(f.r,{sx:{minWidth:800},className:(0,w.Z)(e.root,"mt-5 min-h-[400px]"),columns:12,children:[n&&(0,r.jsx)(f.r.Col,{span:2,className:"font-semibold uppercase",children:t("Slug")}),(0,r.jsx)(f.r.Col,{span:2,className:"font-semibold uppercase",children:t("Title")}),(0,r.jsx)(f.r.Col,{span:U,className:"font-semibold uppercase",children:t("Value")}),(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsx)("span",{className:"hidden",children:t("Tools")})}),(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(p.i,{size:"sm"})}),(null===k||void 0===k?void 0:k.data)?k.data.map((function(e,t){var o,a,c,l,u;return(0,r.jsxs)(O.Fragment,{children:[0!==t&&oe,n&&(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsxs)(v.Z,{children:[(0,r.jsx)(ee,{name:e.name}),e.name]})}),(0,r.jsx)(f.r.Col,{span:2,children:e.label}),(0,r.jsx)(f.r.Col,{span:U,children:"textArea"===(null===(o=e.content)||void 0===o?void 0:o.type)?(0,r.jsx)(h.g,{autosize:!0,readOnly:!0,value:e.content.data}):"list"===(null===(a=e.content)||void 0===a?void 0:a.type)?(0,r.jsx)(b.X,{sx:function(e){return{borderColor:e.colors.gray[4]}},withBorder:!0,p:"sm",children:(0,r.jsx)("ul",{className:"list-disc pl-5",children:null===(c=e.content)||void 0===c?void 0:c.data.map((function(e){var t=e.id,n=e.value;return(0,r.jsx)("li",{dangerouslySetInnerHTML:{__html:n}},t)}))})}):"image"===(null===(l=e.content)||void 0===l?void 0:l.type)?(0,r.jsx)(i.Z,{className:"h-20 w-auto",imageId:null===(u=e.content)||void 0===u?void 0:u.data}):"none"}),(0,r.jsx)(f.r.Col,{span:2,children:(0,r.jsxs)(v.Z,{className:"ml-auto",position:"right",spacing:"xs",noWrap:!0,children:[(0,r.jsx)(y.A,{onClick:z(e.id),color:"blue",children:(0,r.jsx)(j.R.Edit,{})}),n&&(0,r.jsx)(y.A,{onClick:$(e.id),color:"red",children:(0,r.jsx)(j.R.Trash,{})})]})})]},e.id)})):(0,r.jsx)(f.r.Col,{span:12,children:(0,r.jsx)(c.Z,{})})]}),k&&(0,r.jsx)(v.Z,{position:"center",my:"xl",children:(0,r.jsx)(g.t,{className:"my-auto",page:d,onChange:C,total:k.last_page})}),(0,r.jsx)(K,{opened:M||!!E,optionToEdit:E,onClose:function(){A(),I(void 0),_(!1)}})]})},ie=n(57704),ce=function(){return(0,r.jsx)(ie.Gv,{children:(0,r.jsx)(ae,{})})}}},function(e){e.O(0,[568,232,113,682,484,673,842,774,888,179],(function(){return t=22796,e(e.s=t);var t}));var t=e.O();_N_E=t}]);