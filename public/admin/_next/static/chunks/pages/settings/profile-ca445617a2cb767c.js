(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14],{57415:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/profile",function(){return n(69108)}])},64220:function(e,t,n){"use strict";var r=n(52322),l=n(52948),a=n(49765),i=n(6277),o=n(2784);t.Z=function(e){var t=e.isOpen,n=e.onClose,s=e.title,c=e.children,u=e.size,f=void 0===u?"normal":u;return(0,r.jsx)(l.u,{appear:!0,show:t,as:o.Fragment,children:(0,r.jsx)(a.V,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto p-5",onClose:n,children:(0,r.jsxs)("div",{className:"grid min-h-screen text-center",children:[(0,r.jsx)(l.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(a.V.Overlay,{className:"fixed inset-0 bg-black opacity-70"})}),(0,r.jsx)(l.u.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsxs)("div",{className:(0,i.Z)("relative m-auto inline-block w-full transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all","small"===f&&"max-w-xl","normal"===f&&"max-w-4xl","big"===f&&"max-w-6xl","large"===f&&"max-w-7xl"),children:[s&&(0,r.jsx)(a.V.Title,{as:"h3",className:"ml-5 mt-5 border-b-2 pb-3 text-xl font-medium leading-6 text-gray-900",children:s}),c]})})]})})})}},72860:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var r=n(52322),l=n(75660),a=n(39097),i=n(5632),o=n(6277),s=n(52829),c=n(53610),u=n(24917),f=[{title:"Profile",url:"/settings/profile",Icon:c.R.UserCircle},{title:"System",url:"/settings",Icon:c.R.Settings},{title:"Authentication",url:"/settings/password",Icon:c.R.Lock}],d=function(){var e=(0,i.useRouter)().pathname,t=(0,s.$)().t;return(0,r.jsx)("div",{className:"h-full px-5 pt-6",children:(0,r.jsx)("nav",{className:"mt-24 flex flex-none gap-3 lg:flex-col",children:f.map((function(n){var l=n.url,i=n.title,s=n.Icon;return(0,r.jsx)(a.default,{href:l,passHref:!0,children:(0,r.jsx)(u.z,{component:"a",size:"lg",variant:"subtle",color:e===l?"green":"blue",className:(0,o.Z)(e===l?"border-green-300 underline":"border-blue-200","border-2"),leftIcon:(0,r.jsx)(s,{className:"mr-auto aspect-square w-6"}),children:t(i)})},l)}))})})},m=function(e){var t=e.children,n=(0,s.$)().t;return(0,r.jsxs)(l.Xg,{withAside:!0,leftAside:(0,r.jsx)(d,{}),children:[(0,r.jsx)(l.Xg.Header,{title:n("Settings")}),(0,r.jsx)(l.Xg.Section,{className:"mt-5 min-h-[500px] justify-evenly lg:flex",children:(0,r.jsx)("div",{className:"w-full",children:t})})]})}},69108:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(94776),l=n.n(r),a=n(52322),i=n(31005),o=n(64220),s=n(16508);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var f=function(e){var t=e.multiple,n=e.onClose,r=e.pickedFiles,l=e.onChange,i=e.title,f=e.filter,d=u(e,["multiple","onClose","pickedFiles","onChange","title","filter"]);return(0,a.jsx)(o.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({onClose:n},d,{children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsx)(s.b,{filter:f,title:i,triggerClose:n,multiple:t,pickedFiles:r,onChange:l})})}))},d=n(74062),m=n(24917),p=n(53610),h=n(6277),g=n(2784),b=n(52829),x=(0,g.forwardRef)((function(e,t){var n=e.wrapperClassName,r=e.label,l=e.className,o=e.selected,s=e.onChange,c=e.onBlur,u=e.multiple,x=e.error,v=(0,g.useState)(!1),y=v[0],j=v[1],w=(0,b.$)().t,N=(0,g.useCallback)((function(e){s(u?e[0]||null:e)}),[s,u]),O=(0,g.useCallback)((function(){j(!1),c&&c()}),[c,j]),C=(0,g.useMemo)((function(){return null===o?[]:Array.isArray(o)?o:[o]}),[o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,h.Z)(n,l),children:(0,a.jsx)(d.S,{label:r,error:x,children:(0,a.jsxs)("div",{className:"mt-1 flex items-center",children:[(0,a.jsx)("div",{className:"relative mr-6 aspect-square w-20 overflow-hidden rounded-full",children:C.length?(0,a.jsx)(i.Z,{imageId:C[0],className:"absolute h-full w-full object-cover object-center"}):(0,a.jsx)("div",{className:"absolute flex h-full w-full bg-gray-200",children:(0,a.jsx)(p.R.Photo,{className:"m-auto aspect-square w-10 stroke-slate-500"})})}),(0,a.jsx)(m.z,{className:"flex-none",color:"ghost",leftIcon:(0,a.jsx)(p.R.Pencil,{size:20}),size:"md",onClick:function(){return j(!0)},children:w("Change")})]})})}),(0,a.jsx)(f,{title:w("Choose an image"),filter:[["mimeType","regexp","^image/.*$"]],multiple:u,isOpen:y,onClose:O,pickedFiles:C,onChange:N})]})})),v=n(72860),y=n(8168),j=n(63955),w=n(33965),N=n(5386),O=n(59748),C=n(34272),S=n(52170),k=n(142),P=n(61941),A=n(46530);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,a=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(s){o=!0,l=s}finally{try{i||null==n.return||n.return()}finally{if(o)throw l}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=[{value:"en",label:"\ud83c\uddec\ud83c\udde7 English"},{value:"cs",label:"\ud83c\udde8\ud83c\uddff \u010cesky"},{value:"de",label:"\ud83c\udde9\ud83c\uddea German"}],E=function(){var e=(0,b.$)().t,t=I((0,P._)({key:S.ao,defaultValue:"en"}),2),n=t[0],r=t[1];return(0,a.jsx)(k.Ph,{label:e("Admin language"),placeholder:e("Select an option"),data:_,value:n,onChange:function(e){r(e||"en"),A.ZP.changeLanguage(e||"en")}})};function z(e,t,n,r,l,a,i){try{var o=e[a](i),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,l)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){T(e,t,n[t])}))}return e}function R(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var Z=function(e){var t=e.className,n=e.children,r=R(e,["className","children"]);return(0,a.jsx)("div",$({className:(0,h.Z)("grid grid-cols-2 gap-6",t)},r,{children:n}))},U=function(){var e=(0,y.bN)(),t=e.currentUser,n=e.updateValue,r=(0,b.$)().t,i=(0,O.z)(),o=(0,j.cI)({defaultValues:t}),s=o.register,c=o.control,u=o.handleSubmit,f=(0,o.watch)(),d=(0,g.useMemo)((function(){return!!Object.keys((0,N.d$)(t,f)).length}),[t,f]),p=function(){var e,a=(e=l().mark((function e(a){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.showNotification({id:"settings-update-notification",loading:!0,title:"Updating",message:r("Updating your data, please wait..."),autoClose:!1,disallowClose:!0}),s=(0,N.d$)(t,a),e.prev=2,e.next=5,w.H3.save(s);case 5:n("currentUser",$({},t,s)),i.updateNotification(o,{message:r("Update done!"),autoClose:2e3}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i.updateNotification(o,{color:"red",message:r("An error happened"),autoClose:2e3});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,l){var a=e.apply(t,n);function i(e){z(a,r,l,i,o,"next",e)}function o(e){z(a,r,l,i,o,"throw",e)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}();return(0,a.jsx)(v.G,{children:(0,a.jsx)(j.RV,$({},o,{children:(0,a.jsxs)("form",{onSubmit:u(p),className:"mt-6 grid w-full max-w-6xl gap-4 pb-5",autoComplete:"off",children:[(0,a.jsx)(Z,{children:(0,a.jsx)(C.o,$({label:r("Full name"),className:"w-full"},s("name")))}),(0,a.jsxs)(Z,{className:"items-end",children:[(0,a.jsx)(C.o,$({disabled:!0,label:"Email",className:"w-full"},s("email"))),!1]}),(0,a.jsx)(Z,{className:"items-end",children:(0,a.jsx)(E,{})}),(0,a.jsx)(Z,{children:(0,a.jsx)(j.Qr,{control:c,name:"avatar",render:function(e){var t=e.field,n=t.onChange,l=t.onBlur,i=t.value;return(0,a.jsx)(x,{label:r("Avatar"),className:"w-full",selected:i,multiple:!1,onChange:function(e){return e&&n(e[0])},onBlur:l})}})}),(0,a.jsx)(m.z,{className:"mt-10 max-w-[150px]",size:"md",color:"success",type:"submit",disabled:!d,loading:o.formState.isSubmitting,children:r("Save")})]})}))})}}},function(e){e.O(0,[955,161,436,685,805,125,927,508,774,888,179],(function(){return t=57415,e(e.s=t);var t}));var t=e.O();_N_E=t}]);