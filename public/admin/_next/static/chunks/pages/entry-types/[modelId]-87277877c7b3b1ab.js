(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5],{80298:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(2784),o=n(86184);function i(e,t=o.k){const n=(0,r.useRef)(t());return e||n.current}},59748:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(2784),o=n(48797);function i(){const e=(0,r.useContext)(o.c);if(!e)throw new Error("@mantine/notifications: use-notifications hook was called outside of NotificationsProvider context");return e}},78333:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/entry-types/[modelId]",function(){return n(82058)}])},19671:function(e,t,n){"use strict";n.d(t,{SP:function(){return u.S},c3:function(){return a.c},oN:function(){return i}});var r=n(5632),o=n(2784),i=function(e){var t=(0,r.useRouter)().query;return(0,o.useMemo)((function(){return t[e]}),[t,e])};var u=n(33792),a=(n(54557),n(25865),n(93118),n(76902));n(59377),n(85812),n(97470),n(88150),n(36778)},93118:function(e,t,n){"use strict";var r=n(2784),o=n(19671);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(){var e=(0,o.oN)("modelId"),t=(0,r.useMemo)((function(){return String(e).toLowerCase()}),[e]),n=(0,o.SP)(t);if(n)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},n,{name:t})}},59377:function(e,t,n){"use strict";var r=n(19671),o=n(93118);t.Z=function(){var e=(0,o.Z)(),t=(0,r.oN)("entryId");return(0,r.c3)(null===e||void 0===e?void 0:e.name,t||void 0,{refreshInterval:0,revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnMount:!0,revalidateOnReconnect:!1})}},88150:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(36778),o=n(25865),i=function(e){var t=(0,o.y)("files",{path:e}),n=t.data,i=t.isError,u=t.isLoading,a=t.mutate,c=(0,r.j)(e),s=c.data,l=c.error,f=c.mutate;return{data:(null===n||void 0===n?void 0:n.data)||s?{files:null===n||void 0===n?void 0:n.data,folders:s}:void 0,isError:i||l,isLoading:u||!l&&!s,mutateFiles:a,mutateFolders:f}}},36778:function(e,t,n){"use strict";n.d(t,{v:function(){return i},j:function(){return u}});var r=n(52170),o=n(85482),i=function(e){return"".concat(r.Xn,"/folders?path=").concat(e)},u=function(e){return(0,o.ZP)(i(e),{isPaused:function(){return!e}})}},76902:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var r=n(8168),o=n(41277),i=n(85482);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=function(e,t,n){var c=(0,r.bN)().models,s=void 0!==t,l=(0,i.ZP)(s&&c?o.Uq.apiGetUrl(t,e):null,n),f=l.data,d=l.error;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({data:f,isLoading:!d&&!f,itemIsMissing:d,isError:d},a(l,["data","error"]))}},97470:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var r=n(94776),o=n.n(r),i=n(80298),u=n(59748),a=n(52829);function c(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,o)}var s=function(){var e=(0,u.z)(),t=(0,i.M)(),n=(0,a.$)().t;return function(){var r,i=(r=o().mark((function r(i,u){var a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.showNotification({id:t,loading:!0,title:i.title,message:i.message,autoClose:!1,disallowClose:!0}),r.prev=1,r.next=4,u();case 4:return c=r.sent,e.updateNotification(a,{message:i.successMessage||n("Task completed successfully"),autoClose:4e3}),r.abrupt("return",c);case 9:throw r.prev=9,r.t0=r.catch(1),e.updateNotification(a,{color:"red",message:i.errorMessage?"function"===typeof i.errorMessage?i.errorMessage(r.t0):i.errorMessage:n("An error happened"),autoClose:4e3}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function u(e){c(i,n,o,u,a,"next",e)}function a(e){c(i,n,o,u,a,"throw",e)}u(void 0)}))});return function(e,t){return i.apply(this,arguments)}}()}},85812:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(19671),o=function(e,t){return(0,r.c3)("users",e,t)}},62626:function(e,t,n){"use strict";n.r(t);var r=n(52322);t.default=function(e){var t=e.text,n=void 0===t?"Missing":t;return(0,r.jsx)("div",{className:"flex min-h-screen",children:(0,r.jsxs)("div",{className:"text-center m-auto",children:[(0,r.jsx)("h1",{className:"font-semibold text-6xl",children:"404"}),(0,r.jsx)("hr",{className:"border-t-8 w-1/4 mx-auto my-4 border-blue-100"}),(0,r.jsx)("p",{className:"text-gray-500 text-xl",children:n})]})})}},82058:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var r=n(94776),o=n.n(r),i=n(52322),u=n(53610),a=n(57704),c=n(2784),s=n(98666),l=n(25865),f=n(93118),d=n(5019),v=n(5632),p=n(41277),m=n(52170),y=n(62626),b=n(52829),h=n(24917),g=n(11794),x=Object.defineProperty,w=Object.defineProperties,O=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function S(e=[]){const[t,n]=(0,c.useState)(e);return[t,{setState:n,append:(...e)=>n((t=>[...t,...e])),prepend:(...e)=>n((t=>[...e,...t])),insert:(e,...t)=>n((n=>[...n.slice(0,e),...t,...n.slice(e)])),pop:()=>n((e=>{const t=[...e];return t.pop(),t})),shift:()=>n((e=>{const t=[...e];return t.shift(),t})),apply:e=>n((t=>t.map(((t,n)=>e(t,n))))),applyWhere:(e,t)=>n((n=>n.map(((n,r)=>e(n,r)?t(n,r):n)))),remove:(...e)=>n((t=>t.filter(((t,n)=>!e.includes(n))))),reorder:({from:e,to:t})=>n((n=>{const r=[...n],o=n[e];return r.splice(e,1),r.splice(t,0,o),r})),setItem:(e,t)=>n((n=>{const r=[...n];return r[e]=t,r})),setItemProp:(e,t,r)=>n((n=>{const o=[...n];var i;return o[e]=(i=((e,t)=>{for(var n in t||(t={}))P.call(t,n)&&N(e,n,t[n]);if(j)for(var n of j(t))E.call(t,n)&&N(e,n,t[n]);return e})({},o[e]),w(i,O({[t]:r}))),o}))}]}var k=n(54557);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function u(e){I(i,r,o,u,a,"next",e)}function a(e){I(i,r,o,u,a,"throw",e)}u(void 0)}))}}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],u=!0,a=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var t=(0,v.useRouter)().push,n=(0,c.useState)(1),r=n[0],x=n[1],w=(0,f.Z)(),O=(0,k.x)(),j=(0,c.useState)(!1),P=j[0],E=j[1],N=(0,v.useRouter)().query.modelId,M=(0,l.y)(null===w||void 0===w?void 0:w.name,{page:r}),I=M.data,A=M.isLoading,T=M.isError,D=M.mutate,R=(0,b.$)().t,q=U(S(null===I||void 0===I?void 0:I.data),2),L=q[0],X=q[1];(0,c.useEffect)((function(){(null===I||void 0===I?void 0:I.data)&&X.setState(null===I||void 0===I?void 0:I.data)}),[I]);var Z=(0,c.useMemo)((function(){if(!I)return!1;I.data;return C(I,["data"])}),[I]),z=function(){var e=_(o().mark((function e(t){var n,r,i,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.source,void 0!==(null===(r=t.destination)||void 0===r?void 0:r.index)){e.next=3;break}return e.abrupt("return");case 3:return E(!0),i=L[n.index].id,u=L[r.index].id,X.reorder({from:n.index,to:r.index}),e.next=9,p.Uq.reorder(w.name,{fromId:i,toId:u});case 9:E(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=(0,c.useMemo)((function(){if(w)return(0,d.QK)(w)}),[w]),F=w&&(null===O||void 0===O?void 0:O.can({action:"delete",targetModel:null===w||void 0===w?void 0:w.name}))?function(){var e=_(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(R(m.X3.ON_DELETE_REQUEST_PROMPT))){e.next=4;break}return e.next=3,p.Uq.delete({id:t,model:null===w||void 0===w?void 0:w.name});case 3:D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():void 0,G=w&&(null===O||void 0===O?void 0:O.can({action:"create",targetModel:null===w||void 0===w?void 0:w.name}))?function(){var e=_(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(R(m.X3.ENTRY_ITEM_DUPLICATE))&&t(p.Uq.getDuplicateUrl(n,null===w||void 0===w?void 0:w.name));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():void 0;return(0,c.useEffect)((function(){return x(1)}),[N]),w&&$&&!(0,d.Gi)(w.name)?(0,i.jsxs)(a.Xg,{children:[(0,i.jsxs)("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold capitalize",children:R(w.name)}),(0,i.jsx)("div",{className:"flex items-center gap-5",children:(null===O||void 0===O?void 0:O.can({action:"create",targetModel:w.name}))&&(0,i.jsxs)(h.z,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:function(){return t(p.Uq.getCreateUrl(null===w||void 0===w?void 0:w.name))},children:[(0,i.jsx)("span",{className:"hidden md:block",children:R("Add new entry")}),(0,i.jsx)(u.R.Plus,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),(0,i.jsx)(s.H,{isLoading:A||T,items:L,columns:$,metadata:Z||void 0,onEditAction:function(e){return t(p.Uq.getUrl(e,null===w||void 0===w?void 0:w.name))},onDeleteAction:F,onDuplicateAction:G,ordering:w.hasOrdering,onDragEnd:z,disabled:P,pagination:(0,i.jsx)(g.t,{total:(null===I||void 0===I?void 0:I.last_page)||1,page:r,onChange:x})})]}):(0,i.jsx)(y.default,{text:R("This model with this id does not exist.")})}}},function(e){e.O(0,[139,232,821,613,774,888,179],(function(){return t=78333,e(e.s=t);var t}));var t=e.O();_N_E=t}]);