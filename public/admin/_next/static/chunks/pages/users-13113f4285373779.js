(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[892],{1207:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users",function(){return t(28449)}])},28449:function(e,n,t){"use strict";t.r(n);var r=t(94776),i=t.n(r),s=t(52322),o=t(98666),u=t(33792),a=t(25865),c=t(75660),l=t(18362),d=t(53610),f=t(52170),m=t(33965),v=t(5632),p=t(2784),h=t(52829),x=t(5386),w=t(8168),b=t(24917),g=t(11794);function _(e,n,t,r,i,s,o){try{var u=e[s](o),a=u.value}catch(c){return void t(c)}u.done?n(a):Promise.resolve(a).then(r,i)}function j(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}n.default=function(){var e=(0,v.useRouter)().push,n=(0,h.$)().t,t=(0,p.useState)(1),r=t[0],y=t[1],E=(0,w.bN)(),N=E.currentUser,O=E.currentUserIsAdmin,k=(0,u.S)("users"),P=(0,a.y)("users",{page:r}),U=P.data,M=P.isLoading,S=P.isError,T=P.mutate,X=(0,p.useMemo)((function(){if(!U)return!1;U.data;return j(U,["data"])}),[U]),A=(0,p.useMemo)((function(){return(null===U||void 0===U?void 0:U.data)?U.data.filter((function(e){return e.id!==(null===N||void 0===N?void 0:N.id)})):[]}),[U,N]),C=O||(null===N||void 0===N?void 0:N.role)===l.vX.Maintainer,R=C?function(n){return e("/users/".concat(n))}:void 0,z=C?function(){var e,t=(e=i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(n(f.X3.ON_DELETE_REQUEST_PROMPT))){e.next=4;break}return e.next=3,m.Uq.delete({id:t,model:"users"});case 3:T();case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){_(s,r,i,o,u,"next",e)}function u(e){_(s,r,i,o,u,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}():void 0,L=(0,p.useMemo)((function(){if(k)return(0,x.QK)(k)}),[k]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(c.Xg,{children:[(0,s.jsxs)("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold capitalize",children:n("Users")}),(0,s.jsx)("div",{className:"flex items-center gap-5",children:(0,s.jsxs)(b.z,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:function(){return e("/users/invite")},children:[(0,s.jsx)("span",{className:"hidden md:block",children:n("Add new user")}),(0,s.jsx)(d.R.UserPlus,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),(0,s.jsx)(o.H,{isLoading:M||S,items:A,columns:L||[],metadata:X||void 0,onEditAction:R,onDeleteAction:z,pagination:(0,s.jsx)(g.t,{total:(null===U||void 0===U?void 0:U.last_page)||1,page:r,onChange:y})})]})})}}},function(e){e.O(0,[139,794,379,613,774,888,179],(function(){return n=1207,e(e.s=n);var n}));var n=e.O();_N_E=n}]);