"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{98666:function(e,t,r){r.d(t,{H:function(){return E}});var n=r(94776),a=r.n(n),i=r(52322),l=r(96454),o=r(89673),s=r(6277),c=r(2784),d=r(52829),u=r(47761),f=r(71424),h=r(54339),p=r(74559),b=r(85409),m=r(40023),x=function(){return{tableHead:(0,s.Z)("border-b-2 border-gray-100 px-5 py-5 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"),tableData:(0,s.Z)("border-b border-gray-200 bg-white px-5 py-5 group-last:border-opacity-0"),tableDataParagraph:(0,s.Z)("w-full max-w-[350px] overflow-hidden truncate text-gray-900"),tableWrapper:(0,s.Z)("inline-block w-full min-w-full overflow-hidden overflow-x-auto bg-white px-7 relative"),tableRow:(0,s.Z)("bg-white rounded-lg group")}},g=r(27038),j=r(24239),y=r(33378),w=r(21818);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N(e,t,r,n,a,i,l){try{var o=e[i](l),s=o.value}catch(c){return void r(c)}o.done?t(s):Promise.resolve(s).then(n,a)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){O(e,t,r[t])}))}return e}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function D(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(e){var t=e.className,r=k(e,["className"]);return(0,i.jsx)(o.Z,Z({className:(0,s.Z)(t,"h-7 w-full")},r))},S=(0,f.z3)(5),P=function(e){var t=e.children,r=e.index,n=e.id,a=e.toggled,l=x();return a?(0,i.jsx)(m._l,{index:r,draggableId:String(n),children:function(e,r){return(0,i.jsxs)("tr",Z({className:(0,s.Z)(l.tableRow,r.isDragging&&"table"),ref:e.innerRef},e.draggableProps,{children:[(0,i.jsx)("td",{style:{width:40},children:(0,i.jsx)("div",Z({},e.dragHandleProps,{children:(0,i.jsx)(g.Z,{size:18})}))}),t]}))}}):(0,i.jsx)("tr",{className:l.tableRow,children:t})},E=function(e){var t=e.columns,r=e.items,n=e.metadata,o=e.isLoading,f=e.pagination,g=e.onDeleteAction,v=e.onEditAction,O=e.onDuplicateAction,k=e.onDragEnd,E=void 0===k?function(){}:k,C=e.ordering,I=e.disabled,_=(0,d.$)().t,H=x(),R=(0,c.useState)(),M=(R[0],R[1],(0,c.useCallback)((function(e,t){return r=a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"===e&&g?n=g:"edit"===e&&v?n=v:"duplicate"===e&&O&&(n=O),!n.then){r.next=7;break}return r.next=5,n(t);case 5:r.next=8;break;case 7:n(t);case 8:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function l(e){N(i,n,a,l,o,"next",e)}function o(e){N(i,n,a,l,o,"throw",e)}l(void 0)}))};var r}),[v,g,O])),W=(0,c.useMemo)((function(){return t.filter((function(e){var t=e.show;return void 0===t||t}))}),[t]),z=v||g,B=(0,c.useMemo)((function(){var e=W.filter((function(e){return"id"!==e.fieldName})).length;return"calc(".concat(100/e,"% - ").concat(((C?100:0)+(z?150:0))/e,"px)")}),[W,z,C]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.Z5,{onDragEnd:E,children:(0,i.jsxs)(h.X,{withBorder:!0,shadow:"smallBlue",className:H.tableWrapper,children:[(0,i.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[C&&(0,i.jsx)("th",{style:{width:40}}),W.map((function(e){var t=e.fieldName,r=e.title;return(0,i.jsx)("th",{style:{width:"id"===t?100:B},className:H.tableHead,children:_(r)},t)})),z&&(0,i.jsx)("th",{style:{width:150},className:(0,s.Z)(H.tableHead,"text-opacity-0"),children:_("Actions")})]})}),(0,i.jsx)(m.bK,{droppableId:"dnd-table-view",direction:"vertical",isDropDisabled:!C,children:function(e){return(0,i.jsxs)("tbody",Z({},e.droppableProps,{ref:e.innerRef,children:[!!r.length&&!o&&r.map((function(e,t){return(0,i.jsxs)(P,{index:t,id:e.id,toggled:!!C,children:[W.map((function(t){var r=t.formatter,n=t.title,a=t.fieldName;return(0,i.jsx)("td",{style:{width:"id"===a?100:B},className:H.tableData,children:r?r(e,{title:n,fieldName:a}):(0,i.jsx)("p",{className:H.tableDataParagraph,title:e[a],children:e[a]})},a)})),z&&(0,i.jsx)("td",{style:{width:150},className:H.tableData,children:(0,i.jsxs)(p.Z,{spacing:5,position:"right",noWrap:!0,children:[O&&(0,i.jsxs)(b.A,{onClick:M("duplicate",e.id),title:_("Duplicate"),color:"blue",children:[(0,i.jsx)(j.Z,{className:"w-5"})," "]}),v&&(0,i.jsxs)(b.A,{onClick:M("edit",e.id),title:_("Edit"),color:"blue",children:[(0,i.jsx)(y.Z,{className:"w-5"})," "]}),g&&(0,i.jsxs)(b.A,{onClick:M("delete",e.id),title:_("Delete"),color:"red",children:[(0,i.jsx)(w.Z,{className:"w-5"})," "]})]})})]},e.id)})),!r.length&&!o&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:W.length+(z?1:0)+(C?1:0),children:(0,i.jsx)(l.Z,{})})}),o&&S.map((function(e){return(0,i.jsx)("tr",{children:[C&&{fieldName:"ordering_drag"}].concat(D(W)).filter((function(e){return!!e})).map((function(e){var t=e.fieldName;return(0,i.jsx)("td",{className:"py-3 px-5",children:(0,i.jsx)(A,{})},t)}))},e)})),e.placeholder]}))}})]}),I&&(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-100 opacity-70"})]})}),n&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"xs:justify-between mt-2 flex items-center justify-between",children:[(0,i.jsx)("div",{className:"xs:text-sm text-xs text-gray-900",children:(0,i.jsxs)(u.c,{i18nKey:"Showing {{from}} to {{to}} of {{total}} entries",from:n.from,to:n.to,total:n.total,children:["Showing ",{from:n.from}," to ",{to:n.to}," of"," ",{total:n.total}," entries"]})}),(0,i.jsx)("div",{className:"inline-flex gap-2 text-gray-500",children:f})]})})]})}}}]);