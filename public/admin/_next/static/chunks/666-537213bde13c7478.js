"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{98666:function(e,t,r){r.d(t,{H:function(){return P}});var n=r(94776),a=r.n(n),i=r(52322),l=r(96454),o=r(89673),s=r(53610),c=r(6277),d=r(2784),u=r(52829),f=r(47761),h=r(5019),p=r(54339),b=r(74559),m=r(85409),x=r(40023),g=function(){return{tableHead:(0,c.Z)("border-b-2 border-gray-100 px-5 py-5 text-left text-xs font-semibold uppercase tracking-wider text-gray-600"),tableData:(0,c.Z)("border-b border-gray-200 bg-white px-5 py-5 group-last:border-opacity-0"),tableDataParagraph:(0,c.Z)("w-full max-w-[350px] overflow-hidden truncate text-gray-900"),tableWrapper:(0,c.Z)("inline-block w-full min-w-full overflow-hidden overflow-x-auto bg-white px-7 relative"),tableRow:(0,c.Z)("bg-white rounded-lg group")}};function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r,n,a,i,l){try{var o=e[i](l),s=o.value}catch(c){return void r(c)}o.done?t(s):Promise.resolve(s).then(n,a)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(e){var t=e.className,r=N(e,["className"]);return(0,i.jsx)(o.Z,v({className:(0,c.Z)(t,"h-7 w-full")},r))},D=(0,h.z3)(5),A=function(e){var t=e.children,r=e.index,n=e.id,a=e.toggled,l=g();return a?(0,i.jsx)(x._l,{index:r,draggableId:String(n),children:function(e,r){return(0,i.jsxs)("tr",v({className:(0,c.Z)(l.tableRow,r.isDragging&&"table"),ref:e.innerRef},e.draggableProps,{children:[(0,i.jsx)("td",{style:{width:40},children:(0,i.jsx)("div",v({},e.dragHandleProps,{children:(0,i.jsx)(s.R.GripVertical,{size:18})}))}),t]}))}}):(0,i.jsx)("tr",{className:l.tableRow,children:t})},P=function(e){var t=e.columns,r=e.items,n=e.metadata,o=e.isLoading,h=e.pagination,j=e.onDeleteAction,w=e.onEditAction,N=e.onDuplicateAction,P=e.onDragEnd,S=void 0===P?function(){}:P,Z=e.ordering,E=e.disabled,R=(0,u.$)().t,C=g(),I=(0,d.useState)(),_=(I[0],I[1],(0,d.useCallback)((function(e,t){return r=a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("delete"===e&&j?n=j:"edit"===e&&w?n=w:"duplicate"===e&&N&&(n=N),!n.then){r.next=7;break}return r.next=5,n(t);case 5:r.next=8;break;case 7:n(t);case 8:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function l(e){y(i,n,a,l,o,"next",e)}function o(e){y(i,n,a,l,o,"throw",e)}l(void 0)}))};var r}),[w,j,N])),H=(0,d.useMemo)((function(){return t.filter((function(e){var t=e.show;return void 0===t||t}))}),[t]),M=w||j,W=(0,d.useMemo)((function(){var e=H.filter((function(e){return"id"!==e.fieldName})).length;return"calc(".concat(100/e,"% - ").concat(((Z?100:0)+(M?150:0))/e,"px)")}),[H,M,Z]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z5,{onDragEnd:S,children:(0,i.jsxs)(p.X,{withBorder:!0,shadow:"smallBlue",className:C.tableWrapper,children:[(0,i.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[Z&&(0,i.jsx)("th",{style:{width:40}}),H.map((function(e){var t=e.fieldName,r=e.title;return(0,i.jsx)("th",{style:{width:"id"===t?100:W},className:C.tableHead,children:R(r)},t)})),M&&(0,i.jsx)("th",{style:{width:150},className:(0,c.Z)(C.tableHead,"text-opacity-0"),children:R("Actions")})]})}),(0,i.jsx)(x.bK,{droppableId:"dnd-table-view",direction:"vertical",isDropDisabled:!Z,children:function(e){return(0,i.jsxs)("tbody",v({},e.droppableProps,{ref:e.innerRef,children:[!!r.length&&!o&&r.map((function(e,t){return(0,i.jsxs)(A,{index:t,id:e.id,toggled:!!Z,children:[H.map((function(t){var r=t.formatter,n=t.title,a=t.fieldName;return(0,i.jsx)("td",{style:{width:"id"===a?100:W},className:C.tableData,children:r?r(e,{title:n,fieldName:a}):(0,i.jsx)("p",{className:C.tableDataParagraph,title:e[a],children:e[a]})},a)})),M&&(0,i.jsx)("td",{style:{width:150},className:C.tableData,children:(0,i.jsxs)(b.Z,{spacing:5,position:"right",noWrap:!0,children:[N&&(0,i.jsxs)(m.A,{onClick:_("duplicate",e.id),title:R("Duplicate"),color:"blue",children:[(0,i.jsx)(s.R.Copy,{className:"w-5"})," "]}),w&&(0,i.jsxs)(m.A,{onClick:_("edit",e.id),title:R("Edit"),color:"blue",children:[(0,i.jsx)(s.R.Pencil,{className:"w-5"})," "]}),j&&(0,i.jsxs)(m.A,{onClick:_("delete",e.id),title:R("Delete"),color:"red",children:[(0,i.jsx)(s.R.Trash,{className:"w-5"})," "]})]})})]},e.id)})),!r.length&&!o&&(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:H.length+(M?1:0)+(Z?1:0),children:(0,i.jsx)(l.Z,{})})}),o&&D.map((function(e){return(0,i.jsx)("tr",{children:[Z&&{fieldName:"ordering_drag"}].concat(O(H)).filter((function(e){return!!e})).map((function(e){var t=e.fieldName;return(0,i.jsx)("td",{className:"py-3 px-5",children:(0,i.jsx)(k,{})},t)}))},e)})),e.placeholder]}))}})]}),E&&(0,i.jsx)("div",{className:"absolute inset-0 bg-gray-100 opacity-70"})]})}),n&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"xs:justify-between mt-2 flex items-center justify-between",children:[(0,i.jsx)("div",{className:"xs:text-sm text-xs text-gray-900",children:(0,i.jsxs)(f.c,{i18nKey:"Showing {{from}} to {{to}} of {{total}} entries",from:n.from,to:n.to,total:n.total,children:["Showing ",{from:n.from}," to ",{to:n.to}," of"," ",{total:n.total}," entries"]})}),(0,i.jsx)("div",{className:"inline-flex gap-2 text-gray-500",children:h})]})})]})}}}]);