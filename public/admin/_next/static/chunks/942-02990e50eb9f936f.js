(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{25026:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(52322),o=r(35772),l=r(6277),i=r(2784),a=r(76836),u=r.n(a);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=(0,i.forwardRef)((function(e,t){var r=e.children,i=e.className,a=e.size,f=void 0===a?"normal":a,d=e.color,m=e.type,p=void 0===m?"button":m,b=e.icon,h=c(e,["children","className","size","color","type","icon"]),v=b&&o[b];return(0,n.jsxs)("button",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({ref:t,className:(0,l.Z)(u().root,u()["size--".concat(f)],d&&u()["color--".concat(d)],i),type:p},h,{children:[v&&(0,n.jsx)(v,{className:"mr-1.5 -ml-1 -mt-1 inline aspect-square w-5"}),r]}))})),d=f},62626:function(e,t,r){"use strict";r.r(t);var n=r(52322);t.default=function(e){var t=e.text,r=void 0===t?"Missing":t;return(0,n.jsx)("div",{className:"flex min-h-screen",children:(0,n.jsxs)("div",{className:"text-center m-auto",children:[(0,n.jsx)("h1",{className:"font-semibold text-6xl",children:"404"}),(0,n.jsx)("hr",{className:"border-t-8 w-1/4 mx-auto my-4 border-blue-100"}),(0,n.jsx)("p",{className:"text-gray-500 text-xl",children:r})]})})}},91942:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Se}});var n=r(52322),o=r(2784),l=r(26211),i=r(52160),a=r(94776),u=r.n(a),s=r(88150),c=r(59748),f=r(41277),d=r(46530),m=r(5632),p=r(95720);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(e,t){return t.reduce((function(t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){b(e,t,r[t])}))}return e}({},t,b({},"".concat("/"===e?"":e,"/").concat(r.name),{file:r,formattedSize:r.size/1e6+"MB",name:r.name.split(".").slice(0,-1).join(),uploaded:!1}))}),{})};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t,r,n,o,l,i){try{var a=e[l](i),u=a.value}catch(s){return void r(s)}a.done?t(u):Promise.resolve(u).then(n,o)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(u){a=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w={currentPath:"/",uploadingFiles:{},showNewFolderCreator:!1,workingFolders:{},files:void 0,isError:!1,isLoading:!0,mutateFiles:function(){},mutateFolders:function(){},getDropZoneInputProps:function(){},getDropZoneRootProps:function(){},openFilePicker:function(){},updateValue:function(){}},O=(0,o.createContext)(w),k=function(){return(0,o.useContext)(O)};function P(e,t){return g({},e,y({},t.name,t.value))}var N=function(e){var t=e.children,r=(0,o.useReducer)(P,w),l=r[0],i=r[1],a=(0,m.useRouter)(),b=a.push,v=a.query,y=(0,c.z)(),k=(0,o.useMemo)((function(){return(v.folder||"/").replaceAll("//","/")}),[v]),N=(0,s.D)(k),C=N.data,S=N.isError,F=N.isLoading,D=N.mutateFiles,Z=N.mutateFolders,_=(0,o.useCallback)((function(e,t){"currentPath"!==e?i({name:e,value:t}):b({query:{folder:t}})}),[i,b]),A=(0,o.useCallback)(function(){var e,t=(e=u().mark((function e(t){var r,n,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h(k,t),_("uploadingFiles",r),n=y.showNotification({message:(0,d.t)("Working"),title:(0,d.t)("Uploading files..."),color:"blue",autoClose:!1}),e.t0=regeneratorRuntime.keys(r);case 4:if((e.t1=e.t0()).done){e.next=23;break}return o=e.t1.value,l=r[o],e.prev=8,e.next=11,f.Ip.create(l.file,{root:k});case 11:e.next=17;break;case 13:e.prev=13,e.t2=e.catch(8),y.updateNotification(n,{message:(0,d.t)("Error"),title:(0,d.t)("An error happened"),color:"red",autoClose:2e3});case 17:return _("uploadingFiles",Object.fromEntries(Object.entries(r).filter((function(e){return j(e,1)[0]!==o})))),e.next=20,D();case 20:y.updateNotification(n,{message:(0,d.t)("Success"),title:(0,d.t)("All files has been uploaded"),color:"green",autoClose:2e3}),e.next=4;break;case 23:case"end":return e.stop()}}),e,null,[[8,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var l=e.apply(t,r);function i(e){x(l,n,o,i,a,"next",e)}function a(e){x(l,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[_,k,D,y]),E=(0,p.uI)({onDrop:A,noClick:!0,noKeyboard:!0}),z=E.getInputProps,I=E.getRootProps,R=E.open,q=(0,o.useMemo)((function(){return g({},l,{files:C,isError:S,isLoading:F,updateValue:_,openFilePicker:R,getDropZoneRootProps:I,getDropZoneInputProps:z,currentPath:k,mutateFiles:D,mutateFolders:Z})}),[C,S,F,_,R,I,z,k,D,Z,l]);return(0,n.jsxs)(O.Provider,{value:q,children:[(0,n.jsx)("input",g({},z({className:"hidden"}))),t]})},C=r(59401),S=r(6277),F=function(e){var t=e.isLast,r=e.onClick,o=e.icon,l=e.title,i=e.label;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.k,{onClick:r,className:(0,S.Z)("flex flex-none items-center",t&&"pointer-events-none"),title:i,children:[(0,n.jsx)(o,{className:"w-6 text-blue-500"}),l&&(0,n.jsx)("span",{className:(0,S.Z)("ml-2 text-lg font-semibold",t&&"underline"),children:l})]}),!t&&(0,n.jsx)("span",{className:"mx-2 flex-none text-2xl font-semibold text-gray-300",children:"/"})]})},D=function(){var e=k(),t=e.currentPath,r=e.updateValue,a=(0,o.useMemo)((function(){return t.split("/").filter((function(e){return!!e}))}),[t]),u=(0,o.useCallback)((function(e){return function(){r("currentPath",e)}}),[r]);return(0,n.jsxs)("nav",{role:"navigation",className:"flex w-full items-center overflow-auto rounded-2xl border-2 border-project-border bg-white px-4",children:[(0,n.jsx)(F,{icon:l.Z,onClick:u("/"),isLast:!a.length}),a.map((function(e,t){return(0,n.jsx)(F,{icon:i.Z,label:"/"+a.slice(0,t+1).join("/"),onClick:u("/"+a.slice(0,t+1).join("/")),title:e,isLast:t===a.length-1},e)}))]})},Z=r(25026),_=r(57902),A=r(45916),E=r(52829),z=r(78181);function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var q=(0,o.forwardRef)((function(e,t){var r=e.children,o=R(e,["children"]);return(0,n.jsx)(Z.z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){I(e,t,r[t])}))}return e}({ref:t,color:"success"},o,{children:r}))})),L=function(){var e=k(),t=e.updateValue,r=e.openFilePicker,o=(0,E.$)().t;return(0,n.jsx)("div",{className:"ml-3 grid aspect-square h-full flex-none",children:(0,n.jsx)(_.Z,{buttonComponent:q,buttonClassName:"h-full aspect-square flex",offset:[0,10],placement:"bottom-end",buttonContent:(0,n.jsx)(z.Z,{size:32,className:"absolute left-3 top-3"}),children:(0,n.jsxs)(A.Z,{children:[(0,n.jsx)(A.Z.Item,{icon:"FilePlus",title:"Add new file to current folder",onClick:r,children:o("Add new file")}),(0,n.jsx)(A.Z.Item,{icon:"FolderPlus",onClick:function(){return t("showNewFolderCreator",!0)},title:"Add new folder to current folder",children:o("Add new folder")})]})})})},M=function(){return(0,n.jsxs)("section",{className:"mb-5 flex h-[55px]",children:[(0,n.jsx)(D,{}),(0,n.jsx)(L,{})]})},T=r(74763);function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){V(e,t,r[t])}))}return e}var U=function(e){var t=e.isOpen,r=e.onClose,o=k().getDropZoneRootProps,l=(0,E.$)().t;return(0,n.jsx)(T.u,{opened:t,onClose:r,children:(0,n.jsx)("div",$({},o({className:"flex h-full min-h-[750px] w-full rounded-2xl border-4 border-dashed border-blue-300 bg-gray-100"}),{children:(0,n.jsx)("div",{className:"m-auto text-center",children:(0,n.jsx)("p",{className:"text-xl font-semibold text-gray-400",children:l("Drag your files here here")})})}))})},W=r(96454),B=function(){return{itemsWrap:(0,S.Z)("grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-7 items-start"),itemRoot:(0,S.Z)("relative block group"),itemSquare:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,S.Z)("aspect-square w-full rounded-lg bg-white shadow-md overflow-hidden relative",e?"group-hover:shadow-lg duration-200":"cursor-default")},itemLabel:(0,S.Z)("mt-2 overflow-hidden text-ellipsis font-semibold group-hover:underline")}},K=r(39097),Y=r(85409),H=r(21818);function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Q(e,t,r[t])}))}return e}function G(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var J=B(),ee=function(e){var t=e.itemId,r=e.children,o=(e.className,G(e,["itemId","children","className"]));return(0,n.jsx)(K.default,{href:f.Ip.getUrl(t),children:(0,n.jsx)("a",X({},o,{children:r}))})},te=function(e){var t,r=e.id,l=e.filename,i=e.mimeType,a=e.onDeleteClick,u=l.split(".").at(-1)||"unknown",s="image"===((null===(t=null===i||void 0===i?void 0:i.split("/"))||void 0===t?void 0:t[0])||"unknown"),c=(0,o.useCallback)((function(){return a(r)}),[r,a]);return(0,n.jsxs)("article",{className:J.itemRoot,children:[(0,n.jsxs)(ee,{itemId:r,children:[(0,n.jsx)("div",{className:J.itemSquare(),children:s?(0,n.jsx)("img",{alt:"uploaded file",className:"absolute top-0 left-0 h-full w-full object-cover",src:f.Ip.getApiRawUrl(r,{w:"250",q:"60"},!0)}):(0,n.jsx)("div",{className:"flex h-full w-full",children:(0,n.jsx)("p",{className:"m-auto text-3xl font-bold text-gray-400",children:u})})}),(0,n.jsx)("h3",{className:J.itemLabel,children:l})]}),(0,n.jsx)("div",{className:"absolute top-0 right-0 m-2.5",children:(0,n.jsx)(Y.A,{onClick:c,size:45,color:"red",className:"border-2 border-project-border bg-white",children:(0,n.jsx)(H.Z,{size:25})})})]})},re=r(24774),ne=function(){var e=B();return(0,n.jsx)(re.O,{className:e.itemSquare(!1)})},oe=r(65720),le=function(e){var t,r,l=e.itemKey,a=e.name,u=e.onClick,s=e.onDeleteClick,c=k(),f=c.currentPath,d=c.workingFolders,m=(0,o.useState)(!1),p=m[0],b=m[1],h=B(),v=(0,o.useMemo)((function(){return"".concat("/"===f?"":f,"/").concat(l)}),[l,f]),x=function(){return b(!p)},y=(0,o.useMemo)((function(){return p?i.Z:oe.Z}),[p]),g=(0,o.useCallback)((function(){return u(v)}),[u,v]),j=(0,o.useCallback)((function(){return s(v)}),[s,v]);return(0,n.jsxs)("div",{className:h.itemRoot,onMouseEnter:x,onMouseLeave:x,role:"link",children:[(0,n.jsx)("div",{className:(0,S.Z)(h.itemSquare(),"flex cursor-pointer"),onClick:g,children:(0,n.jsx)(y,{className:"m-auto block h-28 w-28 text-blue-500"})}),(0,n.jsx)("h3",{className:(0,S.Z)(h.itemLabel,"cursor-pointer text-left"),onClick:g,children:a}),(0,n.jsx)("div",{className:"absolute top-0 right-0 m-2.5",children:(0,n.jsx)(Y.A,{onClick:j,size:45,color:"red",className:"border-2 border-project-border bg-white",disabled:"deleting"===(null===(t=d[v])||void 0===t?void 0:t.type)||"uploading"===(null===(r=d[v])||void 0===r?void 0:r.type),children:(0,n.jsx)(H.Z,{size:25})})})]})},ie=r(36778),ae=r(89644),ue=r.n(ae),se=r(63955),ce=r(85482),fe=r(17596);function de(e,t,r,n,o,l,i){try{var a=e[l](i),u=a.value}catch(s){return void r(s)}a.done?t(u):Promise.resolve(u).then(n,o)}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){me(e,t,r[t])}))}return e}var be=function(e){var t,r,l=e.styles,i=void 0===l?{}:l,a=k(),s=a.updateValue,c=a.currentPath,d=(0,ce.kY)().mutate,m=B(),p=(0,E.$)().t,b=(0,se.cI)(),h=b.register,v=b.handleSubmit,x=b.setFocus,y=b.formState,g=b.setError;(0,o.useEffect)((function(){x("name")}),[x]);var j=function(){var e,t=(e=u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,e.prev=1,e.next=4,f.sg.create("".concat(c,"/").concat(r));case 4:return e.next=6,d((0,ie.v)(c));case 6:s("showNewFolderCreator",!1),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(1),!ue().isAxiosError(e.t0)||409!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)){e.next=15;break}return g("name",{message:"This folder already exists"}),e.abrupt("return",!1);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var l=e.apply(t,r);function i(e){de(l,n,o,i,a,"next",e)}function a(e){de(l,n,o,i,a,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:(0,S.Z)(m.itemRoot,"text-left",y.isSubmitting&&"cursor-wait"),style:i,children:[(0,n.jsx)("div",{className:(0,S.Z)(m.itemSquare(!1),"flex"),children:(0,n.jsx)(fe.Z,{className:"m-auto h-28 w-28 text-blue-500"})}),(0,n.jsxs)("form",{onSubmit:v(j),className:"relative",children:[(0,n.jsx)("input",pe({className:"mt-1 w-full !border-b-4 !border-blue-500 bg-transparent text-lg font-medium outline-0 disabled:opacity-50",disabled:y.isSubmitting||y.isSubmitSuccessful,autoComplete:"off"},h("name",{onBlur:function(){y.isSubmitting||s("showNewFolderCreator",!1)}}))),(null===(t=y.errors)||void 0===t||null===(r=t.name)||void 0===r?void 0:r.message)&&(0,n.jsx)("small",{className:"b-0 translate-y-full text-lg font-semibold text-red-500",children:p(y.errors.name.message)})]})]})},he=r(3734);function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xe(e,t,r,n,o,l,i){try{var a=e[l](i),u=a.value}catch(s){return void r(s)}a.done?t(u):Promise.resolve(u).then(n,o)}function ye(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var l=e.apply(t,r);function i(e){xe(l,n,o,i,a,"next",e)}function a(e){xe(l,n,o,i,a,"throw",e)}i(void 0)}))}}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ge(e,t,r[t])}))}return e}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,l=[],i=!0,a=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);i=!0);}catch(u){a=!0,o=u}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ve(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Oe=function(){var e,t,r=k(),l=r.isLoading,i=r.isError,a=r.files,s=r.showNewFolderCreator,d=r.updateValue,m=r.uploadingFiles,p=r.workingFolders,b=r.mutateFiles,h=r.mutateFolders,v=(0,c.z)(),x=B(),y=(0,E.$)().t,g=(0,o.useCallback)((function(e){d("currentPath",e)}),[d]),j=(0,o.useCallback)(function(){var e=ye(u().mark((function e(t){var r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=v.showNotification({id:"Deleting folder",loading:!0,title:"Deleting folder",message:y("Deleting your folder..."),autoClose:!1,disallowClose:!0}),!confirm(y("Do you really want to delete this folder?"))){e.next=20;break}return n=t.split("/").at(-1),d("workingFolders",je({},p,{path:{type:"deleting"}})),e.prev=4,e.next=7,f.sg.delete(t);case 7:return e.next=9,h((function(e){return null===e||void 0===e?void 0:e.filter((function(e){return e!==n}))}));case 9:d("workingFolders",je({},p,{path:{type:"none"}})),v.updateNotification(r,{color:"green",message:y("Your folder has been deleted"),autoClose:2e3}),e.next=20;break;case 13:if(e.prev=13,e.t0=e.catch(4),!ue().isAxiosError(e.t0)||400!==(null===(o=e.t0.response)||void 0===o?void 0:o.status)){e.next=19;break}return v.updateNotification(r,{color:"red",message:y("This folder is not empty! Delete its contents first"),autoClose:2e3}),e.abrupt("return");case 19:v.updateNotification(r,{color:"red",message:y("An unexpected error happened"),autoClose:2e3});case 20:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),[p,d,h,y,v]),w=(0,o.useCallback)(function(){var e=ye(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(y("Do you really want to delete this file?"))){e.next=5;break}return e.next=3,f.Ip.delete(t);case 3:return e.next=5,b((function(e){return e?{data:e.data.filter((function(e){return e.id!==t}))}:e}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b,y]);return l||i?(0,n.jsx)("div",{className:x.itemsWrap,children:new Array(10).fill(!0).map((function(e,t){return(0,n.jsx)(ne,{},t)}))}):(0,n.jsx)(n.Fragment,{children:(null===a||void 0===a||null===(e=a.files)||void 0===e?void 0:e.length)||(null===a||void 0===a||null===(t=a.folders)||void 0===t?void 0:t.length)||s?(0,n.jsx)("div",{className:x.itemsWrap,children:(0,n.jsxs)(n.Fragment,{children:[(null===a||void 0===a?void 0:a.folders)&&a.folders.map((function(e){return(0,n.jsx)(le,{itemKey:e,name:e,onClick:g,onDeleteClick:j},e)})),(null===a||void 0===a?void 0:a.files)&&a.files.map((function(e){return(0,n.jsx)(te,je({onDeleteClick:w},e),e.id)})),(0,n.jsx)(he.u,{mounted:s,transition:"pop-top-left",duration:200,timingFunction:"ease",children:function(e){return(0,n.jsx)(be,{styles:e})}}),Object.entries(m).map((function(e){var t=we(e,1)[0];return(0,n.jsx)(ne,{},t)}))]})}):(0,n.jsx)(W.Z,{})})},ke=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1],l=(0,o.useCallback)((function(e){var n;e.preventDefault(),t||"Files"!==((null===e||void 0===e||null===(n=e.dataTransfer)||void 0===n?void 0:n.types)||[]).join("")||r(!0)}),[t,r]),i=(0,o.useCallback)((function(e){e.preventDefault(),t&&r(!1)}),[t,r]),a=(0,o.useCallback)((function(){return r(!1)}),[r]);return(0,n.jsx)(N,{children:(0,n.jsxs)("div",{onDragOver:l,onDrop:i,children:[(0,n.jsx)(M,{}),(0,n.jsx)(Oe,{}),(0,n.jsx)(U,{isOpen:t,onClose:a})]})})},Pe=r(33792),Ne=r(57704),Ce=r(62626),Se=function(){var e=(0,E.$)().t,t=(0,Pe.S)("files");return t?(0,n.jsxs)(Ne.Xg,{children:[(0,n.jsx)("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:(0,n.jsx)("h1",{className:"text-3xl font-semibold capitalize",children:e(t.tableName||"")})}),(0,n.jsx)(ke,{})]}):(0,n.jsx)(Ce.default,{text:e("This model with this id does not exist.")})}},76836:function(e){e.exports={root:"button_root__ys37e","size--large":"button_size--large__1r3yQ","size--small":"button_size--small__HNkLe","size--normal":"button_size--normal__4OeMn","color--success":"button_color--success__r4fw1","color--ghost":"button_color--ghost__BmmzL","color--warning":"button_color--warning__Vzrxp","color--error":"button_color--error__OjPlq"}}}]);