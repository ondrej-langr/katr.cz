(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{25026:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r=n(52322),o=n(53610),i=n(6277),a=n(2784),l=n(76836),c=n.n(l);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=(0,a.forwardRef)((function(e,t){var n=e.children,a=e.className,l=e.size,d=void 0===l?"normal":l,f=e.color,h=e.type,p=void 0===h?"button":h,b=e.icon,m=u(e,["children","className","size","color","type","icon"]),v=b&&o.R[b];return(0,r.jsxs)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({ref:t,className:(0,i.Z)(c().root,c()["size--".concat(d)],f&&c()["color--".concat(f)],a),type:p},m,{children:[v&&(0,r.jsx)(v,{className:"mr-1.5 -ml-1 -mt-1 inline aspect-square w-5"}),n]}))})),f=d},77444:function(e,t,n){"use strict";n.r(t),n.d(t,{EDITOR_HOLDER_ID:function(){return lt},LazyEditor:function(){return ct}});var r=n(52322),o=n(2784),i=n(13943),a=n.n(i),l=n(31311),c=n.n(l),s=n(88295),u=n.n(s),d=n(88933),f=n.n(d),h=n(10411),p=n.n(h),b=n(74166),m=n.n(b),v=n(17873),g=n.n(v),y=n(28463),w=n.n(y),O=n(40718),k=n.n(O),j=n(94776),x=n.n(j),S=n(28316),C=n(31005),E=n(16508),P=n(22711),I=n(81428),T=n(24917),A=n(34272),N=n(40530),R=n(53610),D=n(6277),z=n(52829);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}var M=function(e){var t=e.data,n=e.onDataChange,i=e.readOnly,a=(0,o.useState)(!1),l=a[0],c=a[1],s=(0,o.useState)(!1),u=s[0],d=s[1],f=(0,o.useState)(_({},t)),h=f[0],p=f[1],b=(0,z.$)().t;(0,o.useEffect)((function(){return p(_({},t))}),[t]),(0,o.useEffect)((function(){return n(h)}),[h,n]);var m=(0,o.useMemo)((function(){return h.fileId?[h.fileId]:[]}),[h.fileId]);return(0,r.jsx)(P.Z,{children:(0,r.jsxs)("div",{className:(0,D.Z)("relative aspect-[3/1] w-full rounded-lg bg-white p-5"),children:[(0,r.jsx)(C.Z,{width:1500,imageId:h.fileId,className:"absolute top-0 left-0 h-full w-full rounded-lg object-cover"}),!i&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"absolute left-0 bottom-0 m-5 flex flex-col gap-5",children:[(0,r.jsx)(I.J,{withArrow:!0,width:590,position:"top",placement:"start",withinPortal:!1,opened:l,onClose:function(){return c(!1)},target:(0,r.jsx)(T.z,{className:"relative flex-none",radius:"xl",size:"lg",variant:"white",leftIcon:(0,r.jsx)(R.R.Pencil,{size:30}),onClick:function(){return c((function(e){return!e}))},children:b("Change image")}),children:(0,r.jsx)(E.b,{where:{mimeType:{manipulator:"LIKE",value:"%image%"}},multiple:!1,pickedFiles:m,onChange:function(e){p(_({},h,{fileId:e[0]||""}))},triggerClose:function(){return c(!1)}})}),(0,r.jsxs)(I.J,{withArrow:!0,width:590,position:"top",placement:"start",withinPortal:!1,opened:u,onClose:function(){return d(!1)},target:(0,r.jsx)(T.z,{className:"relative flex-none",radius:"xl",size:"lg",leftIcon:(0,r.jsx)(R.R.Settings,{size:30}),onClick:function(){return d((function(e){return!e}))},children:b("Change metadata")}),children:[(0,r.jsx)(A.o,{label:b("Label"),value:h.label||"",placeholder:b("Some text"),onChange:function(e){return p(_({},h,{label:e.currentTarget.value}))}}),(0,r.jsx)(N.g,{label:b("Description"),mt:"sm",value:h.description||"",placeholder:b("Some text"),onChange:function(e){return p(_({},h,{description:e.currentTarget.value}))}}),(0,r.jsx)(T.z,{onClick:function(){return d(!1)},className:"mt-5",children:"Ok"})]})]})})]})})};function B(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(t){var n=t.data,r=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=o,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.data={fileId:n.fileId||"",label:n.label},this.CSS={wrapper:"image-tool my-5",input:"hidden"},this.nodes={holder:null,inputElement:null,reactElement:null}}var t,n,o,i=e.prototype;return i.render=function(){var e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div");e.setAttribute("class",this.CSS.wrapper),t.setAttribute("class",this.CSS.input),e.appendChild(t),e.appendChild(n),this.nodes.inputElement=t,this.nodes.reactElement=n,this.nodes.holder=e;var o=this,i=function(){var e,t=(e=x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.readOnly){e.next=2;break}return e.abrupt("return");case 2:o.data=Object.assign(o.data,t),o.nodes.inputElement&&(o.nodes.inputElement.value=JSON.stringify(o.data),o.nodes.inputElement.dispatchEvent(new Event("change")));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){B(i,r,o,a,l,"next",e)}function l(e){B(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return S.render((0,r.jsx)(M,{data:this.data,onDataChange:i,readOnly:this.readOnly}),this.nodes.reactElement),this.nodes.holder},i.validate=function(){return!!this.data.fileId},i.save=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},this.data)},t=e,o=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Image",icon:'<svg width="17" height="15" viewBox="0 0 336 276" xmlns="http://www.w3.org/2000/svg"><path d="M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z"/></svg>'}}}],(n=null)&&F(t.prototype,n),o&&F(t,o),e}(),H=J,U=n(42137),$=function(e){var t=e.numberOfCols,n=e.editorJSConfig,r=e.t,o=new Array(t).fill(!0);return{class:U.LayoutBlockTool,config:{EditorJS:a(),editorJSConfig:n,enableLayoutEditing:!0,enableLayoutSaving:!0,initialData:{itemContent:Object.fromEntries(o.map((function(e,t){return[t,{blocks:[]}]}))),layout:{type:"container",id:"",className:"editor-js__layout__wrap",children:o.map((function(e,t){return{type:"item",id:String(t),className:"editor-js__layout__item",itemContentId:String(t)}}))}}},shortcut:"CMD+2",toolbox:{icon:'\n      <svg xmlns="http://www.w3.org/2000/svg" fill="none" class="icon icon-tabler icon-tabler-layout-board" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n      <rect x="4" y="4" width="16" height="16" rx="2" />\n      <path d="M4 9h8" />\n      <path d="M12 15h8" />\n      <path d="M12 4v16" />\n    </svg>\n              ',title:"".concat(o.length," ").concat(r("Columns"))}}};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}function W(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function X(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=(0,o.createContext)({fileIds:[],label:"",changeMetadata:function(){},removeFile:function(){},addFile:function(){},changeLabel:function(){},readOnly:!1}),Y=function(){return(0,o.useContext)(G)},Q=function(e,t){return V({},e,"function"===typeof t?t(e):t)},ee=function(e){var t=e.children,n=e.initialData,i=e.onDataChange,a=e.readOnly,l=(0,o.useReducer)(Q,V({},n)),c=l[0],s=l[1];(0,o.useEffect)((function(){return s(V({},n))}),[n,a]),(0,o.useEffect)((function(){return i(c)}),[c,i]);var u=(0,o.useCallback)((function(e){return s((function(t){var n,r=t.fileIds,o=void 0===r?[]:r,i=W(t,["fileIds"]),a=o.map((function(e){return e.id}));o=o.filter((function(t){var n=t.id;return e.includes(n)}));var l=e.filter((function(e){return!a.includes(e)}));return(n=o).push.apply(n,X(l.map((function(e){return{id:e}})))),V({},i,{fileIds:o})}))}),[]),d=(0,o.useCallback)((function(e){return s((function(t){var n=t.fileIds,r=void 0===n?[]:n;return V({},W(t,["fileIds"]),{fileIds:r.filter((function(t){var n=t.id;return e!==n}))})}))}),[]),f=(0,o.useCallback)((function(e){return s((function(t){return V({},t,{label:e})}))}),[]),h=(0,o.useCallback)((function(e,t,n){return s((function(r){var o=r.fileIds,i=void 0===o?[]:o,a=W(r,["fileIds"]);return i[i.findIndex((function(e){var n=e.id;return t===n}))][e]=n,V({fileIds:i},a)}))}),[]);return(0,r.jsx)(G.Provider,{value:V({},c,{readOnly:a,changeMetadata:h,removeFile:d,addFile:u,changeLabel:f}),children:t})},te=n(85409),ne=function(e){var t=e.id,n=e.description,i=e.title,a=(0,o.useState)(!1),l=a[0],c=a[1],s=Y(),u=s.readOnly,d=s.removeFile,f=s.changeMetadata,h=(0,z.$)().t;return(0,r.jsxs)("div",{className:"relative aspect-square w-full",children:[(0,r.jsx)(C.Z,{imageId:t,width:290,quality:40,className:"absolute top-0 left-0 h-full w-full overflow-hidden rounded-xl object-cover object-center"}),!u&&(0,r.jsxs)("div",{className:"absolute right-0 bottom-0 m-3 flex gap-3",children:[(0,r.jsxs)(I.J,{withArrow:!0,opened:l,onClose:function(){return c(!1)},withinPortal:!1,width:590,position:"top",placement:"center",target:(0,r.jsx)(te.A,{size:"xl",color:"blue",variant:"filled",title:h("Select new image"),className:"aspect-square w-full",onClick:function(){return c((function(e){return!e}))},children:(0,r.jsx)(R.R.Settings,{size:30})}),children:[(0,r.jsx)(A.o,{label:h("Title"),value:i||"",placeholder:h("Some text"),onChange:function(e){return f("title",t,e.currentTarget.value)}}),(0,r.jsx)(N.g,{label:h("Description"),mt:"sm",value:n||"",placeholder:h("Some text"),onChange:function(e){return f("description",t,e.currentTarget.value)}}),(0,r.jsx)(T.z,{onClick:function(){return c(!1)},className:"mt-5",children:"Ok"})]}),(0,r.jsx)(te.A,{size:"xl",color:"red",variant:"filled",onClick:function(){return d(t)},children:(0,r.jsx)(R.R.Trash,{size:30})})]})]})};function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(){var e=(0,z.$)().t,t=(0,o.useState)(!1),n=t[0],i=t[1],a=Y(),l=a.fileIds,c=a.addFile,s=a.readOnly;return(0,r.jsxs)("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5",children:[null===l||void 0===l?void 0:l.map((function(e){return(0,r.jsx)(ne,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}({},e),e.id)})),!s&&(0,r.jsx)(I.J,{withArrow:!0,opened:n,onClose:function(){return i(!1)},className:"w-full",positionDependencies:[l],withinPortal:!1,width:590,placement:"start",target:(0,r.jsx)(T.z,{size:"lg",variant:"light",title:e("Select new image"),className:"flex aspect-square h-full w-full items-center justify-center",onClick:function(){return i((function(e){return!e}))},children:(0,r.jsx)(R.R.Plus,{size:50})}),children:(0,r.jsx)(E.b,{multiple:!0,where:{mimeType:{manipulator:"LIKE",value:"%image%"}},pickedFiles:(null===l||void 0===l?void 0:l.map((function(e){return e.id})))||[],onChange:c,triggerClose:function(){return i(!1)}})})]})},ie=n(23384),ae=function(){var e=(0,z.$)().t,t=Y(),n=t.label,o=t.changeLabel;return t.readOnly?n?(0,r.jsx)(ie.D,{order:3,children:n}):null:(0,r.jsx)(A.o,{label:e("Gallery name"),value:n||"",size:"xl",placeholder:e("Some fancy gallery name..."),onChange:function(e){return o(e.currentTarget.value)},className:"mt-2"})},le=function(e){var t=e.data,n=e.onDataChange,o=e.readOnly;return(0,r.jsx)(P.Z,{children:(0,r.jsx)(ee,{onDataChange:n,readOnly:o,initialData:t,children:(0,r.jsxs)("div",{className:(0,D.Z)("relative min-h-[200px] w-full rounded-lg"),children:[(0,r.jsx)(ae,{}),(0,r.jsx)(oe,{})]})})})};function ce(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(){function e(t){var n=t.data,r=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=o,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.data={fileIds:n.fileIds||[],label:n.label},this.CSS={wrapper:"image-tool my-5",input:"hidden"},this.nodes={holder:null,inputElement:null,reactElement:null}}var t,n,o,i=e.prototype;return i.render=function(){var e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div");e.setAttribute("class",this.CSS.wrapper),t.setAttribute("class",this.CSS.input),e.appendChild(t),e.appendChild(n),this.nodes.inputElement=t,this.nodes.reactElement=n,this.nodes.holder=e;var o=this,i=function(){var e,t=(e=x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.readOnly){e.next=2;break}return e.abrupt("return");case 2:o.data=Object.assign(o.data,t),o.nodes.inputElement&&(o.nodes.inputElement.value=JSON.stringify(o.data),o.nodes.inputElement.dispatchEvent(new Event("change")));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ce(i,r,o,a,l,"next",e)}function l(e){ce(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return S.render((0,r.jsx)(le,{data:this.data,onDataChange:i,readOnly:this.readOnly}),this.nodes.reactElement),this.nodes.holder},i.validate=function(){return!(!this.data.fileIds||!this.data.fileIds.length)},i.save=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}({},this.data)},t=e,o=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Gallery",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-polaroid" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="4" width="16" height="16" rx="2" /><line x1="4" y1="16" x2="20" y2="16" /><path d="M4 12l3 -3c.928 -.893 2.072 -.893 3 0l4 4" /><path d="M13 12l2 -2c.928 -.893 2.072 -.893 3 0l2 2" /><line x1="14" y1="7" x2="14.01" y2="7" /></svg>'}}}],(n=null)&&se(t.prototype,n),o&&se(t,o),e}(),fe=de,he=n(59610),pe=n.n(he),be=n(25026),me=n(64842),ve=n(74559),ge=n(57897),ye=n(18362);function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Oe(e,t,n[t])}))}return e}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.entries(R.R).map((function(e){var t=je(e,2),n=t[0];return{icon:t[1],value:n,label:(0,ye.fm)(n)}}));var xe=function(e){var t=e.dataFromParent,n=e.readOnly,i=e.onDataChange,a=(0,o.useState)(t),l=a[0],c=a[1],s=(0,z.$)().t;(0,o.useEffect)((function(){c(t)}),[t]),(0,o.useEffect)((function(){i(l)}),[l,i]);var u=function(e,t){c(ke({},l,Oe({},e,t)))},d=(0,o.useMemo)((function(){return!l.linkTo.length||!!/^((https|http):\/\/).*/.test(l.linkTo)}),[l.linkTo]),f=(0,o.useMemo)((function(){return l.icon?R.R[l.icon]:void 0}),[l.icon]);return(0,r.jsx)(P.Z,{children:n?(0,r.jsxs)(be.z,{color:"success",size:"large",className:"flex gap-5 !rounded-none",children:[f&&(0,r.jsx)(f,{}),l.label||l.linkTo]}):(0,r.jsxs)("div",{className:"rounded-lg border-2 border-project-border bg-white p-5",children:[(0,r.jsx)(ie.D,{order:3,children:s("Button link")}),(0,r.jsxs)(ve.Z,{className:"mt-4",noWrap:!0,grow:!0,children:[(0,r.jsx)(A.o,{required:!0,label:s("Link"),placeholder:"https://google.com",error:d?void 0:s("Invalid url"),type:"url",value:l.linkTo,onChange:function(e){return u("linkTo",e.currentTarget.value)},rightSection:d?(0,r.jsx)(R.R.Check,{size:16,color:"green"}):(0,r.jsx)(R.R.Link,{size:16})}),(0,r.jsx)(A.o,{label:s("Label"),placeholder:s("Some text"),value:l.label,onChange:function(e){return u("label",e.currentTarget.value)},rightSection:(0,r.jsx)(R.R.AB,{size:16})})]}),(0,r.jsxs)(ve.Z,{className:"mt-4 items-start",noWrap:!0,grow:!0,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(ge.X,{label:s("Download on button click"),checked:l.isDownload,onChange:function(e){return u("isDownload",e.currentTarget.checked)}}),(0,r.jsx)(ge.X,{mt:"md",label:s("Open on new tab"),checked:l.openOnNewTab,onChange:function(e){return u("openOnNewTab",e.currentTarget.checked)}})]}),(0,r.jsx)(me.Z,{label:s("Placeholder Image"),selected:l.placeholderImage||null,onChange:function(e){return u("placeholderImage",e)}})]})]})})};function Se(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}var Ie=function(){function e(t){var n=t.data,r=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=o,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.data=Pe({linkTo:""},n),this.CSS={wrapper:"button-link-tool my-5",input:"hidden"},this.nodes={holder:null,inputElement:null,reactElement:null}}var t,n,o,i=e.prototype;return i.render=function(){var e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div");e.setAttribute("class",this.CSS.wrapper),t.setAttribute("class",this.CSS.input),e.appendChild(t),e.appendChild(n),this.nodes.inputElement=t,this.nodes.reactElement=n,this.nodes.holder=e;var o=this,i=function(){var e,t=(e=x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.readOnly){e.next=2;break}return e.abrupt("return");case 2:o.data=Object.assign(o.data,t),o.nodes.inputElement&&(o.nodes.inputElement.value=JSON.stringify(o.data),o.nodes.inputElement.dispatchEvent(new Event("change")));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Se(i,r,o,a,l,"next",e)}function l(e){Se(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return S.render((0,r.jsx)(xe,{dataFromParent:this.data,onDataChange:i,readOnly:this.readOnly}),this.nodes.reactElement),this.nodes.holder},i.validate=function(){return!(!this.data.linkTo||!/^((https|http):\/\/).*/.test(this.data.linkTo))},i.save=function(){return Pe({},this.data)},t=e,o=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Button Link",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" /><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" /></svg>'}}}],(n=null)&&Ce(t.prototype,n),o&&Ce(t,o),e}(),Te=Ie,Ae=n(48826),Ne=n(89519);function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){De(e,t,n[t])}))}return e}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||Me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Me(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){if(e){if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}var Be=function(e){var t=e.readOnly,n=e.dataFromParent,i=e.onDataChange,a=(0,o.useState)(n),l=a[0],c=a[1],s=Le((0,Ne.U)(""),2),u=s[0],d=s[1],f=(0,z.$)().t;(0,o.useEffect)((function(){c(n)}),[n]),(0,o.useEffect)((function(){i(l)}),[l,i]);var h=function(e){return function(){return c(ze({},l,{tags:l.tags.filter((function(t){return t!==e}))}))}};return(0,r.jsx)(P.Z,{children:(0,r.jsxs)("div",{className:(0,D.Z)("rounded-lg border-2 border-project-border bg-white p-5"),children:[(0,r.jsx)("p",{className:"text-xl font-semibold",children:f("Tags")}),(0,r.jsx)(ve.Z,{className:"my-5",children:l.tags.length?l.tags.map((function(e){return(0,r.jsx)(Ae.C,{variant:"outline",size:"xl",rightSection:!t&&(0,r.jsx)(te.A,{size:"xs",color:"gray",radius:"xl",variant:"light",onClick:h(e),children:(0,r.jsx)(R.R.X,{size:10})}),children:e},e)})):(0,r.jsx)("p",{className:"text-gray-400",children:f("No tags, start by adding some")})}),!t&&(0,r.jsx)(ve.Z,{noWrap:!0,children:(0,r.jsx)(A.o,{icon:(0,r.jsx)(R.R.Tag,{size:20}),placeholder:f("New badge name"),className:"w-full",value:u,onInput:d,onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation(),u&&(c(ze({},l,{tags:_e(l.tags.filter((function(e){return e!==u}))).concat([u])})),d("")))}})})]})})};function Fe(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(){function e(t){var n,r=t.data,o=t.api,i=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=o,this.readOnly=i,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.data={tags:null!==(n=r.tags)&&void 0!==n?n:[]},this.CSS={wrapper:"tags-tool my-5",input:"hidden"},this.nodes={holder:null,inputElement:null,reactElement:null}}var t,n,o,i=e.prototype;return i.render=function(){var e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div");e.setAttribute("class",this.CSS.wrapper),t.setAttribute("class",this.CSS.input),e.appendChild(t),e.appendChild(n),this.nodes.inputElement=t,this.nodes.reactElement=n,this.nodes.holder=e;var o=this,i=function(){var e,t=(e=x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.readOnly){e.next=2;break}return e.abrupt("return");case 2:o.data=Object.assign(o.data,t),o.nodes.inputElement&&(o.nodes.inputElement.value=JSON.stringify(o.data),o.nodes.inputElement.dispatchEvent(new Event("change")));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fe(i,r,o,a,l,"next",e)}function l(e){Fe(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return S.render((0,r.jsx)(Be,{dataFromParent:this.data,onDataChange:i,readOnly:this.readOnly}),this.nodes.reactElement),this.nodes.holder},i.validate=function(){return!(!this.data.tags||!this.data.tags.length)},i.save=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Je(e,t,n[t])}))}return e}({},this.data)},t=e,o=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Tags",icon:'\n        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-tags" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">\n          <path stroke="none" d="M0 0h24v24H0z" fill="none"/>\n          <path d="M7.859 6h-2.834a2.025 2.025 0 0 0 -2.025 2.025v2.834c0 .537 .213 1.052 .593 1.432l6.116 6.116a2.025 2.025 0 0 0 2.864 0l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-6.117 -6.116a2.025 2.025 0 0 0 -1.431 -.593z" />\n          <path d="M17.573 18.407l2.834 -2.834a2.025 2.025 0 0 0 0 -2.864l-7.117 -7.116" />\n          <path d="M6 9h-.01" />\n        </svg>\n      '}}}],(n=null)&&Ze(t.prototype,n),o&&Ze(t,o),e}(),Ue=He;function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}var t,n,r,o=e.prototype;return o.removeFakeBackground=function(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))},o.setFakeBackground=function(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0},o.save=function(){this.savedSelectionRange=e.range},o.restore=function(){if(this.savedSelectionRange){var e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}},o.clearSaved=function(){this.savedSelectionRange=null},o.collapseToEnd=function(){var e=window.getSelection(),t=document.createRange();e&&(t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t))},e.get=function(){return window.getSelection()},t=e,r=[{key:"range",get:function(){var e=window.getSelection();return e&&e.rangeCount?e.getRangeAt(0):null}},{key:"text",get:function(){var e,t;return null!==(t=null===(e=window.getSelection())||void 0===e?void 0:e.toString())&&void 0!==t?t:""}}],(n=null)&&$e(t.prototype,n),r&&$e(t,r),e}();function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ve=[{type:"input",name:"input",label:"URL",props:{placeholder:"URL"}},{type:"input",name:"title",label:"Title",props:{placeholder:"Title"}},{type:"input",name:"target",label:"Target",description:"Open in new Window",props:{type:"checkbox"}}],We=function(){function e(t){var n=t.api;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commandLink="insertHTML",this.commandUnlink="unlink",this.ENTER_KEY=13,this.nodes={actionContainer:null,button:null,buttonSubmit:null,input:null,inputContainer:null,title:null,titleContainer:null,target:null,targetContainer:null},this.inputOpened=!1,this.toolbar=n.toolbar,this.inlineToolbar=n.inlineToolbar,this.notifier=n.notifier,this.apiSelection=n.selection,this.selection=new Ke,this.CSS={button:n.styles.inlineToolButton,buttonActive:n.styles.inlineToolButtonActive,input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"}}var t,n,r,o=e.prototype;return o.render=function(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button),this.nodes.button.innerHTML='<svg class="icon icon--link" width="14px" height="10px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#link"></use></svg>',this.nodes.button},o.renderActions=function(){var e=this;return this.nodes.actionContainer=document.createElement("div"),this.nodes.actionContainer.classList.add("ce-inline-link-tool"),this.nodes.actionContainer.classList.add(this.CSS.input),this.nodes.buttonSubmit=document.createElement("button"),this.nodes.buttonSubmit.innerText="OK",this.nodes.buttonSubmit.onclick=this.dataEntered.bind(this),Ve.forEach((function(t){var n=e,r="".concat(t.name,"Container");e.nodes[r]=document.createElement("div"),e.nodes[r].classList.add("ce-inline-tool-container");var o=document.createElement("label");if(o.innerHTML="<span>".concat(t.label,"</span>"),e.nodes[t.name]=document.createElement(t.type),Object.keys(t.props).forEach((function(e){n.nodes[t.name][e]=t.props[e],"checkbox"===t.props.type&&(n.nodes[t.name].checked=!0)})),e.nodes[t.name].addEventListener("keydown",(function(e){e.keyCode===n.ENTER_KEY&&e.preventDefault()})),o.appendChild(e.nodes[t.name]),t.description){var i=document.createElement("span");i.innerText=t.description,o.appendChild(i)}e.nodes[r].appendChild(o),e.nodes.actionContainer.appendChild(e.nodes[r])})),this.nodes.actionContainer.appendChild(this.nodes.buttonSubmit),this.nodes.actionContainer},o.surround=function(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());var t=this.apiSelection.findParentTag("A");if(t)return this.apiSelection.expandToTag(t),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()},o.checkState=function(){var e=this.apiSelection.findParentTag("A");if(e){this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();var t=e.getAttribute("href"),n=e.getAttribute("title"),r=e.getAttribute("target");this.nodes.input.value=t||"",this.nodes.title.value=n||"",this.nodes.target.checked="_blank"===r,this.selection.save()}else this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e},o.clear=function(){this.closeActions()},o.toggleActions=function(){this.inputOpened?this.closeActions(!1):this.openActions(!0)},o.openActions=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.nodes.actionContainer.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0},o.closeActions=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.selection.isFakeBackgroundEnabled){var t=new Ke;t.save(),this.selection.restore(),this.selection.removeFakeBackground(),t.restore()}this.nodes.actionContainer.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",this.nodes.title.value="",this.nodes.target.checked=!0,e&&this.selection.clearSaved(),this.inputOpened=!1},o.dataEntered=function(e){var t=this.nodes.input.value||"";t.trim()||(this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions()),this.validateURL(t)?(t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()):this.notifier.show({message:"Pasted link is not valid.",style:"error"})},o.validateURL=function(e){return!/\s/.test(e)},o.prepareLink=function(e){var t=e;return t=t.trim(),t=this.addProtocol(t)},o.addProtocol=function(e){var t=e;if(/^(\w+):(\/\/)?/.test(t))return t;var n=/^\/[^/\s]/.test(t),r="#"===t.substring(0,1),o=/^\/\/[^/\s]/.test(t);return n||r||o||(t="http://".concat(t)),t},o.insertLink=function(e){var t=this.apiSelection.findParentTag("A");t&&this.apiSelection.expandToTag(t);var n=this.nodes.target.checked?'target="_blank"':"",r=""!==this.nodes.title.value?'title="'.concat(this.nodes.title.value,'"'):"";document.execCommand(this.commandLink,!1,'<a href="'.concat(e,'" ').concat(n," ").concat(r,">").concat(Ke.text,"</a>"))},o.unlink=function(){document.execCommand(this.commandUnlink)},t=e,r=[{key:"sanitize",get:function(){return{a:{href:!0,rel:"nofollow",target:"_blank",title:!0}}}}],(n=[{key:"shortcut",get:function(){return"CMD+K"}}])&&qe(t.prototype,n),r&&qe(t,r),e}();function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}We.isInline=!0,We.title="Link";var Ye=function(e){var t=e.readOnly,n=e.data,i=e.onDataChange,a=(0,o.useState)(n),l=a[0],c=a[1],s=Ge((0,Ne.U)(""),2),u=s[0],d=s[1],f=(0,z.$)().t;(0,o.useEffect)((function(){c(n)}),[n]),(0,o.useEffect)((function(){i(l)}),[l,i]);return(0,r.jsx)(P.Z,{children:(0,r.jsxs)("div",{className:(0,D.Z)("rounded-lg border-2 border-project-border bg-white p-5"),children:[(0,r.jsx)("p",{className:"text-xl font-semibold",children:f("Dynamic block")}),(0,r.jsx)(A.o,{icon:(0,r.jsx)(R.R.Brackets,{size:20}),disabled:t,placeholder:f("Dynamic block identifier"),className:"mt-5 w-full",value:u,onInput:function(e){var t=e.currentTarget.value;d(t.replaceAll(" ","-").toLocaleLowerCase())},onKeyDown:function(e){"enter"===e.key.toLowerCase()&&(e.preventDefault(),e.stopPropagation())}})]})})};function Qe(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(){function e(t){var n=t.data,r=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=r,this.readOnly=o,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.data={blockId:n.blockId},this.CSS={wrapper:"dynamic-block-tool my-5",input:"hidden"},this.nodes={holder:null,inputElement:null,reactElement:null}}var t,n,o,i=e.prototype;return i.render=function(){var e=document.createElement("div"),t=document.createElement("input"),n=document.createElement("div");e.setAttribute("class",this.CSS.wrapper),t.setAttribute("class",this.CSS.input),e.appendChild(t),e.appendChild(n),this.nodes.inputElement=t,this.nodes.reactElement=n,this.nodes.holder=e;var o=this,i=function(){var e,t=(e=x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.readOnly){e.next=2;break}return e.abrupt("return");case 2:o.data=Object.assign(o.data,t),o.nodes.inputElement&&(o.nodes.inputElement.value=JSON.stringify(o.data),o.nodes.inputElement.dispatchEvent(new Event("change")));case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qe(i,r,o,a,l,"next",e)}function l(e){Qe(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return S.render((0,r.jsx)(Ye,{data:this.data,onDataChange:i,readOnly:this.readOnly}),this.nodes.reactElement),this.nodes.holder},i.validate=function(){return!(!this.data.blockId||!this.data.blockId.length)},i.save=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){tt(e,t,n[t])}))}return e}({},this.data)},t=e,o=[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{title:"Dynamic block",icon:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brackets" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 4h-3v16h3" /><path d="M16 4h3v16h-3" /></svg>'}}}],(n=null)&&et(t.prototype,n),o&&et(t,o),e}(),rt=nt;function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ot(e,t,n[t])}))}return e}function at(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var lt="editor-content",ct=function(e){var t=e.initialValue,n=e.editorRef,i=e.error,l=e.className,s=at(e,["initialValue","editorRef","error","className"]),d=(0,o.useRef)(),h=(0,o.useState)(!1),b=h[0],v=h[1],y=(0,z.$)().t;return(0,o.useImperativeHandle)(n,(function(){return d.current})),(0,o.useEffect)((function(){var e=it({holder:lt,logLevel:"ERROR",placeholder:y("Start typing here..."),tools:{header:{class:g(),inlineToolbar:!0,config:{placeholder:y("Start typing here..."),levels:[2,3,4],defaultLevel:2}},link:{class:We,inlineToolbar:!0},table:{class:c(),inlineToolbar:!0},underline:u(),Marker:f(),embed:pe(),buttonLink:Te,tags:Ue,image:H,gallery:fe,list:{class:p(),inlineToolbar:!0,config:{defaultStyle:"unordered"}},changeCase:{class:m(),inlineToolbar:!0,config:{showLocaleOption:!0,locale:"tr"}},anyTuneName:{class:w(),config:{default:"left",blocks:{header:"left",list:"left"}}},dynamicBlock:rt,paragraph:{class:k(),inlineToolbar:!0,config:{placeholder:y("Start typing here...")}}},inlineToolbar:!0,onReady:function(){s.onReady&&s.onReady(),v(!0)}},s),t=(e.onChange,e.onReady,at(e,["onChange","onReady"])),n=it({},e,{tools:it({},e.tools,{columns:$({numberOfCols:4,editorJSConfig:t,t:y})})}),r=new(a())(n);return d.current=r,function(){var e,t;(null===(e=d.current)||void 0===e?void 0:e.destroy)&&(null===(t=d.current)||void 0===t||t.destroy())}}),[y]),(0,o.useEffect)((function(){if(d.current&&t&&d.current.render&&b){var e="string"==typeof t?JSON.parse(t):JSON.parse(JSON.stringify(t||{}));e.blocks&&e.blocks.length&&d.current.render(e)}}),[b,t]),(0,r.jsxs)("div",{className:l,children:[i&&(0,r.jsx)("small",{className:"font-bold text-red-500",children:i}),(0,r.jsx)("div",{id:lt})]})}},76836:function(e){e.exports={root:"button_root__ys37e","size--large":"button_size--large__1r3yQ","size--small":"button_size--small__HNkLe","size--normal":"button_size--normal__4OeMn","color--success":"button_color--success__r4fw1","color--ghost":"button_color--ghost__BmmzL","color--warning":"button_color--warning__Vzrxp","color--error":"button_color--error__OjPlq"}}}]);