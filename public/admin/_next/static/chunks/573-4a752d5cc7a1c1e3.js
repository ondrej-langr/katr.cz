"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{62626:function(e,t,n){n.r(t);var r=n(52322);t.default=function(e){var t=e.text,n=void 0===t?"Missing":t;return(0,r.jsx)("div",{className:"flex min-h-screen",children:(0,r.jsxs)("div",{className:"text-center m-auto",children:[(0,r.jsx)("h1",{className:"font-semibold text-6xl",children:"404"}),(0,r.jsx)("hr",{className:"border-t-8 w-1/4 mx-auto my-4 border-blue-100"}),(0,r.jsx)("p",{className:"text-gray-500 text-xl",children:n})]})})}},52573:function(e,t,n){n.r(t),n.d(t,{default:function(){return Fe}});var r=n(52322),i=n(72722),a=n(76902),o=n(25865),l=n(23191),s=n(24774),u=n(24893),c=n(46530),d=n(2784);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=(0,d.forwardRef)((function(e,t){e.avatar,e.email,e.id;var n=e.name,i=(e.password,e.role),o=(e.state,v(e,["avatar","email","id","name","password","role","state"])),u=(0,a.c)("userroles",i),c=u.data,d=u.isLoading;return(0,r.jsxs)("div",p({ref:t},o,{children:[(0,r.jsx)(l.x,{children:n}),(0,r.jsx)(l.x,{size:"xs",color:"blue",children:!c||d?(0,r.jsx)(s.O,{width:100,height:20}):c.label})]}))})),h=function(e){var t=m({},e),n=(0,o.y)("users",{limit:5,where:p({},t.value&&Number.isNaN(Number(t.value))?{name:{manipulator:"LIKE",value:"%".concat(t.value,"%")}}:{},t.value&&!Number.isNaN(Number(t.value))?{id:{manipulator:"LIKE",value:t.value}}:{})},{isPaused:function(){return!t.value}}).data;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(u.F,p({label:"User",itemComponent:b,placeholder:(0,c.t)("Start typing to see options"),filter:function(){return!0},nothingFound:t.value?(0,r.jsx)("div",{children:(0,c.t)("Nothing has been found")}):void 0},t,{data:((null===n||void 0===n?void 0:n.data)||[]).map((function(e){return p({},e,{value:String(e.name)})}))}))})},x=n(54557),y=n(81428),g=n(24917),j=n(74559),w=n(30678),O=n(53610),N=n(63955),S=n(52829),P=n(94776),k=n.n(P),C=n(93118),E=n(59377),I=n(41277),_=n(5632),Z=n(30621),D=n(49898),U=n(97470),A=n(5019),V=n(89644),L=n.n(V),R=n(61941);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,i)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){T(a,r,i,o,l,"next",e)}function l(e){T(a,r,i,o,l,"throw",e)}o(void 0)}))}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$(e,t,n[t])}))}return e}function q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=(0,d.createContext)({exitView:function(){},currentView:"update",itemIsMissing:!1,itemIsLoading:!0,itemIsError:!1,mutateItem:z(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),onSubmit:z(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),setAsideOpen:function(){},asideOpen:!1}),J=function(){return(0,d.useContext)(Y)},K=function(e){var t=e.children,n=e.viewType,i=G((0,R._)({key:"aside-toggled",defaultValue:!0,deserialize:function(e){return"true"===e}}),2),a=i[0],o=i[1],l=(0,_.useRouter)().push,s=(0,d.useRef)(null),u=(0,d.useRef)({editorRef:s}),c=(0,C.Z)(),f=(0,S.$)().t,m=(0,E.Z)(),p=m.data,v=m.isError,b=m.isLoading,h=m.itemIsMissing,x=m.mutate,y=(0,d.useMemo)((function(){return c&&(0,D.j7)(c,"update"===n)}),[c,n]),g=(0,N.cI)({defaultValues:(null===p||void 0===p?void 0:p.data)||{},reValidateMode:"onChange",mode:"onTouched",resolver:y&&(0,Z.X)(y)}),j=g.setError,w=(0,U.$)(),O=(0,d.useMemo)((function(){if(p&&"create"===n){p.id;return q(p,["id"])}return p}),[p,n]);(0,d.useEffect)((function(){return p&&g.reset(p)}),[p,g]);var P=(0,d.useCallback)(function(){var e=z(k().mark((function e(t){var r,i,a,o,u,d,m,v,b,h,y;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.name,!s.current){e.next=10;break}return e.next=5,null===(i=s.current)||void 0===i?void 0:i.isReady;case 5:return e.t0=JSON,e.next=8,s.current.save();case 8:e.t1=e.sent,t.content=e.t0.stringify.call(e.t0,e.t1);case 10:return e.prev=10,e.next=13,w({title:"update"===n?"Updating":"Creating",message:f("update"===n?"Updating your entry, please wait...":"Creating new entry, please wait..."),successMessage:f("create"===n?"Your entry is created!":"Your entry is updated!")},z(k().mark((function e(){var i,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("update"!==n){e.next=9;break}return i=(0,A.d$)(p,t),a=p.id,e.next=5,I.Uq.update({id:a,model:r},i);case 5:return e.next=7,x((function(e){return(null===e||void 0===e?void 0:e.id)?F({},e||{},{finalValues:i}):e}),{});case 7:e.next=16;break;case 9:if("create"!==n){e.next=16;break}return e.next=12,I.Uq.create({model:r},t);case 12:if(null===(o=e.sent)||void 0===o?void 0:o.data){e.next=15;break}throw new Error("No data has been received");case 15:l(I.Uq.getListUrl(null===c||void 0===c?void 0:c.name));case 16:case"end":return e.stop()}}),e)}))));case 13:e.next=38;break;case 15:if(e.prev=15,e.t2=e.catch(10),!L().isAxiosError(e.t2)||23e3!==(null===(a=e.t2.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.code)){e.next=38;break}if(u=e.t2.response.data.data,!Array.isArray(u)||!u.length){e.next=38;break}for(d=!0,m=!1,v=void 0,e.prev=22,b=u[Symbol.iterator]();!(d=(h=b.next()).done);d=!0)y=h.value,j(y,{message:f("This field is unique and other entry has the same value")});e.next=30;break;case 26:e.prev=26,e.t3=e.catch(22),m=!0,v=e.t3;case 30:e.prev=30,e.prev=31,d||null==b.return||b.return();case 33:if(e.prev=33,!m){e.next=36;break}throw v;case 36:return e.finish(33);case 37:return e.finish(30);case 38:case"end":return e.stop()}}),e,null,[[10,15],[22,26,30,38],[31,,33,37]])})));return function(t){return e.apply(this,arguments)}}(),[c,p,x,l,w,j,f,n]);return(0,r.jsx)(N.RV,F({},g,{children:(0,r.jsx)(Y.Provider,{value:{currentView:n,exitView:function(){l(I.Uq.getListUrl(null===c||void 0===c?void 0:c.name))},itemData:O,itemIsError:v,itemIsLoading:"update"===n&&b,itemIsMissing:h,mutateItem:x,asideOpen:a,setAsideOpen:o,onSubmit:g.handleSubmit(P)},children:"function"===typeof t?t({formContentRefs:u}):t})}))},X=n(85409),H=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.O,{width:"100%",height:30}),(0,r.jsx)(s.O,{width:"100%",height:30}),(0,r.jsx)(s.O,{width:"100%",height:30}),(0,r.jsx)(s.O,{width:"100%",height:30})]});function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}var W=function(e){var t=e.id,n=e.name,i=e.onItemDelete;return(0,r.jsxs)("div",{className:"flex justify-between rounded-lg bg-gray-50 px-4 py-2",children:[(0,r.jsx)(l.x,{size:"lg",children:n}),(0,r.jsx)(X.A,{color:"red",variant:"light",onClick:function(){return i(t)},children:(0,r.jsx)(O.R.Trash,{width:20,height:20})})]})},ee=function(){var e=(0,N.Gc)(),t=e.watch,n=e.setValue,i=e.getValues,a=t("coeditors");console.log({sharedWithItems:a});var l=!Object.keys(a||{}).length,s=(0,o.y)("users",{limit:999,where:{id:{manipulator:"IN",value:Object.keys(a||{})}}},{isPaused:function(){return l}}),u=s.data,c=s.isLoading,f=(0,d.useCallback)((function(e){var t="coeditors",r=B({},i(t));delete r[e],n(t,r)}),[n,i]);return!c||l?(0,r.jsx)(r.Fragment,{children:((null===u||void 0===u?void 0:u.data)||[]).map((function(e){return(0,r.jsx)(W,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}({onItemDelete:f},e),e.id)}))}):H};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(){var e=J(),t=e.itemData,n=e.itemIsLoading,a=(0,x.x)(),o=(0,d.useState)(!1),l=o[0],s=o[1],u=(0,d.useState)(),c=u[0],f=u[1],m=(0,d.useState)(!1),p=m[0],v=m[1],b=(0,N.Gc)(),P=b.setValue,k=b.getValues,C=(0,S.$)().t,E=(0,d.useCallback)((function(e){var t,n=e.id;s(!0);var r=null!==(t=k("coeditors"))&&void 0!==t?t:{};P("coeditors",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}({},r,te({},String(n),!0))),s(!1),v(!1),f("")}),[k,P]);return(null===a||void 0===a?void 0:a.can({action:"update",targetModel:"userRoles"}))||(null===a||void 0===a?void 0:a.id)===(null===t||void 0===t?void 0:t.created_by)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{title:C("Coeditors"),description:"Add coeditor and add permission to edit to some user",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-2.5 p-2.5",children:[n||!t?H:(0,r.jsx)(ee,{}),(0,r.jsxs)(y.J,{closeOnClickOutside:!1,closeOnEscape:!1,opened:p,onClose:function(){return v(!1)},position:"bottom",placement:"center",withCloseButton:!0,title:C("Select user"),transition:"pop-top-right",className:"w-full",width:400,target:(0,r.jsx)(g.z,{className:"w-full",leftIcon:(0,r.jsx)(O.R.Plus,{className:"h-7 w-7"}),variant:"light",type:"button",onClick:function(){return v((function(e){return!e}))},children:(0,r.jsx)("span",{className:"ml-auto inline-block",children:C("Add coeditor")})}),children:[(0,r.jsx)(h,{disabled:l,value:c,onChange:f,onItemSubmit:E}),(0,r.jsx)(j.Z,{position:"apart",style:{marginTop:15},children:(0,r.jsx)(w.e,{component:"button",color:"gray",size:"sm",disabled:l,onClick:function(){return v(!1)},children:"Cancel"})})]})]})})}):null},re=n(32769);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oe=function(){var e,t=(0,S.$)().t,n=(0,C.Z)(),a=(0,d.useMemo)((function(){if(n){var e=n.columns,t=(e.title,e.content,ae(e,["title","content"]));return(0,re.x)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}({},n,{columns:t}))}}),[n]);return"post-like"===(null===n||void 0===n||null===(e=n.admin)||void 0===e?void 0:e.layout)&&a&&a.length?(0,r.jsx)(i.Z,{title:t("Other info"),children:(0,r.jsx)("div",{className:"grid gap-5 p-4",children:(0,r.jsx)(re.Z,{fields:a})})}):null},le=n(85812),se=n(6277),ue=n(28879),ce=n.n(ue),de=n(39097);function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pe=function(e){var t=e.className,n=me(e,["className"]);return(0,r.jsx)(s.O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fe(e,t,n[t])}))}return e}({className:(0,se.Z)("relative top-0.5 inline-block h-4",t)},n))},ve=function(e){var t=e.userId,n=(0,S.$)().t,i=(0,le.a)(t,{isPaused:function(){return!t}}),a=i.data,o=i.isLoading,l=(0,x.x)(),s=Number(t)===Number(null===l||void 0===l?void 0:l.id);return!o&&a&&t?(0,r.jsx)(de.default,{href:s?"/settings/profile":I.KD.getUrl(t),children:(0,r.jsx)("a",{className:"font-semibold text-blue-600",children:s?n("Me"):a.name})}):(0,r.jsx)(pe,{className:"inline-block"})},be="D.M. YYYY @ HH:mm",he=function(){var e=J(),t=e.itemData,n=e.itemIsLoading,a=e.currentView,o=(0,S.$)().t,l=(0,C.Z)();return(null===t||void 0===t?void 0:t.updated_at)||(null===t||void 0===t?void 0:t.created_at)?(0,r.jsx)(i.Z,{className:"!pt-0",title:o("Publish info"),children:"update"===a&&(0,r.jsx)("div",{className:(0,se.Z)("w-full ",((null===t||void 0===t?void 0:t.updated_at)||(null===t||void 0===t?void 0:t.created_at))&&"px-4 py-5"),children:(0,r.jsxs)("ul",{className:"flex list-disc flex-col gap-2 pl-5",children:[(null===l||void 0===l?void 0:l.hasTimestamps)&&(0,r.jsxs)(r.Fragment,{children:[!!(null===t||void 0===t?void 0:t.updated_at)&&(0,r.jsxs)("li",{children:[o("Updated at:")," ",n?(0,r.jsx)(pe,{className:"w-full max-w-[6rem]"}):(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:ce()(null===t||void 0===t?void 0:t.updated_at).format(be)})]}),!!(null===t||void 0===t?void 0:t.created_at)&&(0,r.jsxs)("li",{children:[o("Created at:")," ",n?(0,r.jsx)(pe,{className:"w-full max-w-[6rem]"}):(0,r.jsx)("span",{className:"font-semibold text-blue-600",children:ce()(null===t||void 0===t?void 0:t.created_at).format(be)})]})]}),(null===l||void 0===l?void 0:l.ownable)&&(0,r.jsxs)(r.Fragment,{children:[t.updated_by&&"0"!==String(t.updated_by)&&(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"flex-none",children:o("Updated by:")})," ",(0,r.jsx)(ve,{userId:t.updated_by})]})}),t.created_by&&"0"!==String(t.created_by)&&(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("span",{className:"flex-none",children:o("Created by:")})," ",(0,r.jsx)(ve,{userId:t.created_by})]})})]})]})})}):null},xe=function(){var e=(0,C.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(he,{}),(0,r.jsx)(oe,{}),e&&e.isSharable&&(0,r.jsx)(ne,{})]})},ye=n(52170),ge=n(54339),je=n(51337);function we(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,i)}var Oe=function(){var e=(0,(0,N.Gc)().watch)(),t=(0,S.$)().t,n=J(),i=n.itemData,a=n.currentView,o=n.setAsideOpen,l=n.asideOpen,s=n.exitView,u=(0,C.Z)(),c=(0,N.Gc)(),f=c.setValue,m=c.formState,p=(0,d.useMemo)((function(){return"update"!==a||!!Object.keys((0,A.d$)(i||{},e)).length}),[e,a,i]),v=function(){var e,n=(e=k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(t(ye.X3.ON_DELETE_REQUEST_PROMPT))){e.next=4;break}return s(),e.next=4,I.Uq.delete({id:null===i||void 0===i?void 0:i.id,model:null===u||void 0===u?void 0:u.name});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){we(a,r,i,o,l,"next",e)}function l(e){we(a,r,i,o,l,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),b=(0,d.useMemo)((function(){var e="";return"create"===a?e=m.isSubmitting?"Publishing":"Publish":"update"===a&&(e=m.isSubmitting?"Updating":"Update"),t(e)}),[a,m.isSubmitting,t]),h=(0,d.useMemo)((function(){var e="";if(!(null===u||void 0===u?void 0:u.isDraftable))return e;if("create"===a)e=m.isSubmitting?"Saving":"Save as concept";else if("update"===a){if(!i)return e;e=i.is_published?"Unpublish":"Publish"}return t(e)}),[a,m.isSubmitting,u,i,t]);return(0,r.jsxs)(ge.X,{shadow:"lg",component:"footer",className:"align-center container sticky bottom-5 left-0 z-10 mx-auto flex max-h-20 items-center justify-between border-2 border-project-border p-3",children:["update"===a?(0,r.jsx)(je.u,{withArrow:!0,label:t("Delete"),position:"top",color:"gray",children:(0,r.jsx)(X.A,{size:"xl",type:"button",loading:m.isSubmitting,onClick:v,color:"red",variant:"light",styles:{root:{width:50,height:50}},className:(0,se.Z)(m.isSubmitting&&"!cursor-progress"),children:(0,r.jsx)(O.R.Trash,{className:"aspect-square w-10"})})}):(0,r.jsx)("span",{}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(null===u||void 0===u?void 0:u.isDraftable)&&(0,r.jsx)(g.z,{size:"sm",variant:"white",type:"submit",disabled:m.isSubmitting,className:"ml-auto",onClick:function(){f("is_published",!!i&&!i.is_published)},px:"sm",children:h}),(0,r.jsx)(g.z,{size:"lg",color:"green",type:"submit",disabled:!p,loading:m.isSubmitting,onClick:function(){"create"===a&&f("is_published",!0)},children:b}),(0,r.jsx)(je.u,{withArrow:!0,label:t("Toggle more options"),position:"top",color:"gray",children:(0,r.jsx)(X.A,{size:"xl",color:"blue",variant:"light",type:"button",className:(0,se.Z)(m.isSubmitting&&"!cursor-progress"),styles:{root:{width:50,height:50}},onClick:function(){return o((function(e){return!e}))},children:(0,r.jsx)(O.R.ChevronLeft,{className:(0,se.Z)("aspect-square w-20 duration-150",l&&"rotate-180")})})})]})]})},Ne=n(59935);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Se(e,t,n[t])}))}return e}var ke=function(){var e,t,n=J().itemIsLoading,i=(0,N.Gc)(),a=i.register,o=i.formState,l=(0,S.$)().t;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)("input",Pe({className:(0,se.Z)("w-full !border-b-2 border-project-border bg-transparent pb-5 text-5xl font-bold outline-none duration-200 focus:border-blue-500"),disabled:n,placeholder:l(n?"Loading...":"Title here...")},a("title"))),(null===(e=o.errors)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.message)&&(0,r.jsx)("small",{className:"font-bold text-red-500",children:o.errors.title.message})]})})},Ce=function(){var e,t=J().currentView,n=(0,C.Z)(),i=(0,S.$)().t;return(0,r.jsx)("header",{className:"mr-9 w-full pb-5 xl:mr-0",children:"simple"===(null===n||void 0===n||null===(e=n.admin)||void 0===e?void 0:e.layout)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"mt-0 text-5xl font-bold",children:i("update"==t?"Update an entry":"Create an entry")}),(0,r.jsx)(Ne.i,{size:"sm",mt:"lg"})]}):(0,r.jsx)(ke,{})})};function Ee(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(u){return void n(u)}l.done?t(s):Promise.resolve(s).then(r,i)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ee(a,r,i,o,l,"next",e)}function l(e){Ee(a,r,i,o,l,"throw",e)}o(void 0)}))}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=(0,n(25237).default)(Ie(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(837),n.e(285),n.e(668)]).then(n.bind(n,51668));case 2:return e.abrupt("return",e.sent.LazyEditor);case 3:case"end":return e.stop()}}),e)}))),{loadableGenerated:{webpack:function(){return[51668]}},ssr:!1}),De=(0,d.forwardRef)((function(e,t){var n=(0,N.Gc)().control,i=(0,S.$)().t,a=(0,d.useCallback)((function(e){return function(){var t=Ie(k().mark((function t(n){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.t1=JSON,t.next=4,n.saver.save();case 4:return t.t2=t.sent,t.t3=t.t1.stringify.call(t.t1,t.t2),t.abrupt("return",(0,t.t0)(t.t3));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),[]);return(0,r.jsx)(N.Qr,{control:n,name:"content",render:function(n){var o,l=n.field,s=l.onChange,u=l.name,c=n.formState.errors;return(0,r.jsx)(Ze,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}({editorRef:t,onChange:a(s),placeholder:i("Start typing here..."),error:null===c||void 0===c||null===(o=c[u])||void 0===o?void 0:o.message},e))}})})),Ue=(0,d.forwardRef)((function(e,t){var n,i,a=((null===(n=t)||void 0===n?void 0:n.current)||{}).editorRef,o=J(),l=o.currentView,s=o.itemData,u=(0,N.Gc)().formState,c=(0,C.Z)(),f=(0,d.useMemo)((function(){if(c)return(0,re.x)(c)}),[c]);return f?(0,r.jsxs)("div",{className:"flex min-h-screen flex-col gap-5",children:["simple"===(null===c||void 0===c||null===(i=c.admin)||void 0===i?void 0:i.layout)?f&&(0,r.jsx)(re.Z,{fields:f}):(0,r.jsx)(De,{initialValue:null===s||void 0===s?void 0:s.content,autofocus:"update"===l,ref:a}),u.isSubmitting&&(0,r.jsx)("div",{className:"absolute inset-0 cursor-progress bg-white/20 backdrop-blur-[2px]"})]}):null})),Ae=n(62626),Ve=n(1571),Le=n(18362);function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Re(e,t,n[t])}))}return e}function Te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ze=function(e){var t=e.children,n=J().onSubmit;return(0,r.jsx)("form",{autoComplete:"off",onSubmit:n,className:"flex",children:t})};ze.Content=function(e){var t=e.children,n=(0,C.Z)(),i=J(),a=i.currentView,o=i.itemIsLoading,l=i.itemData,u=(0,S.$)().t;return(0,r.jsxs)("div",{className:"container relative mx-auto mb-10",children:[(0,r.jsx)(Ve.Z,{className:"py-5",items:[{content:u("Entry types")},{isLinkTo:I.Uq.getListUrl(null===n||void 0===n?void 0:n.name),content:u((0,Le.fm)((null===n||void 0===n?void 0:n.name)||""))},{content:u("update"==a?"Update":"Create")},{content:o?(0,r.jsx)(s.O,{className:"h-4 w-16 flex-none"}):(0,r.jsx)("p",{className:"flex-none text-green-500 underline",children:"update"==a?null===l||void 0===l?void 0:l.id:u("Create")})}]}),(0,r.jsx)("div",{className:"mt-10 items-start justify-between xl:flex",children:(0,r.jsx)("div",{className:"relative w-full",children:t})})]})},ze.Aside=function(e){var t=e.children,n=e.className,i=Te(e,["children","className"]),a=J().asideOpen;return(0,r.jsx)("aside",{className:(0,se.Z)("sticky top-0 overflow-hidden transition-[width] duration-300",a?"w-[500px]":"h-0 w-0"),children:(0,r.jsx)("div",Me({className:(0,se.Z)("h-full w-[500px] py-5 pl-8",n)},i,{children:t}))})};var $e=function(){var e=(0,C.Z)();return e&&"users"!==e.name?(0,r.jsx)(K,{viewType:$e.viewType,children:function(e){var t=e.formContentRefs;return(0,r.jsxs)(ze,{children:[(0,r.jsxs)(ze.Content,{children:[(0,r.jsx)(Ce,{}),(0,r.jsx)(Ue,{ref:t}),(0,r.jsx)(Oe,{})]}),(0,r.jsx)(ze.Aside,{className:"flex flex-col gap-5",open:!0,onClose:function(){},children:(0,r.jsx)(xe,{})})]})}}):(0,r.jsx)(Ae.default,{})};$e.viewType="update";var Fe=$e}}]);