import{T as M}from"./TableView.89107ada.js";import{d as N,l as T,r as o,a2 as C,z as P,b as R,ak as S,j as a,F as y,h as l,C as A,W as L,al as j,am as k,ac as _,ad as q}from"./index.e5661ece.js";const I=()=>{const r=N(),{t:n}=T(),[c,m]=o.exports.useState(1),s=C(),i=P("users"),{data:e,isLoading:u,isError:f,mutate:p}=R("users",{page:c}),g=o.exports.useMemo(()=>{if(!e)return!1;const{data:t,...w}=e;return w},[e]),x=o.exports.useMemo(()=>e!=null&&e.data?e.data.filter(t=>t.id!==(s==null?void 0:s.id)):[],[e,s]),d=s==null?void 0:s.can({action:"update",targetModel:"users"}),h=()=>r("/users/invite"),E=d?t=>r(`/users/${t}`):void 0,b=d?async t=>{confirm(n(_.ON_DELETE_REQUEST_PROMPT))&&(await q.delete({id:t,model:"users"}),p())}:void 0,v=o.exports.useMemo(()=>{if(!!i)return S(i)},[i]);return a(y,{children:l(A,{children:[l("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[a("h1",{className:"text-3xl font-semibold capitalize",children:n("Users")}),a("div",{className:"flex items-center gap-5",children:l(L,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:h,children:[a("span",{className:"hidden md:block",children:n("Add new user")}),a(j,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),a(M,{isLoading:u||f,items:x,columns:v||[],metadata:g||void 0,onEditAction:E,onDeleteAction:b,pagination:a(k,{total:(e==null?void 0:e.last_page)||1,page:c,onChange:m})})]})})};export{I as default};
