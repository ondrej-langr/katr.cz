import{T as b}from"./TableView.ed5fd718.js";import{n as N,x as T,r as o,af as P,X as y,l as C,ax as R,j as a,F as S,h as l,Z as A,a7 as L,ay as j,az as q,ap as _,aq as k}from"./index.db4443a5.js";const I=()=>{const r=N(),{t:n}=T(),[c,m]=o.exports.useState(1),s=P(),i=y("users"),{data:e,isLoading:u,isError:f,mutate:p}=C("users",{page:c}),g=o.exports.useMemo(()=>{if(!e)return!1;const{data:t,...M}=e;return M},[e]),x=o.exports.useMemo(()=>e!=null&&e.data?e.data.filter(t=>t.id!==(s==null?void 0:s.id)):[],[e,s]),d=s==null?void 0:s.can({action:"update",targetModel:"users"}),h=()=>r("/users/invite"),E=d?t=>r(`/users/${t}`):void 0,v=d?async t=>{confirm(n(_.ON_DELETE_REQUEST_PROMPT))&&(await k.delete({id:t,model:"users"}),p())}:void 0,w=o.exports.useMemo(()=>{if(!!i)return R(i)},[i]);return a(S,{children:l(A,{children:[l("div",{className:"flex w-full flex-col justify-between gap-5 py-10 md:flex-row",children:[a("h1",{className:"text-3xl font-semibold capitalize",children:n("Users")}),a("div",{className:"flex items-center gap-5",children:l(L,{color:"green",className:" items-center font-semibold uppercase",size:"md",onClick:h,children:[a("span",{className:"hidden md:block",children:n("Add new user")}),a(j,{className:"inline-block h-5 w-5 md:ml-3"})," "]})})]}),a(b,{isLoading:u||f,items:x,columns:w||[],metadata:g||void 0,onEditAction:E,onDeleteAction:v,pagination:a(q,{total:(e==null?void 0:e.last_page)||1,page:c,onChange:m})})]})})};export{I as default};
